<!DOCTYPE html>
<html lang="en"
  style="--endExpand: 560.00px; --endLift: 0.00px; --endOn: 1; --pathDraw: 1; --ignite: 1; --pathVis: 1; --hY: -293.44px; --hShift: -1382.03px; --hOn: 0; --heroOn: 0; --vibe: 0; --bgy: 14; --bgx: 0; --sigilScale: 0.78; --p: 1;">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Unlim8ted Home</title>
  <link rel="icon" href="https://unlim8ted.com/favicon.ico" type="image/x-icon" />
  <meta name="description"
    content="Unlim8ted Studios builds films, games, music, books, software, and AI—crafted as cinematic experiences with no creative limits." />

  <!-- Fonts (optional but highly recommended for the “awwwards” feel) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Space+Grotesk:wght@500;600;700&display=swap"
    rel="stylesheet">

<style>

  :root{
    /* Base */
    --bg0: #05060a;         /* page base */
    --bg1: #0b0d14;         /* subtle gradient end */
    --paper: rgba(10,12,18,.78);
    --ink: #f2f4ff;         /* main text */
    --muted: rgba(242,244,255,.68);

    /* Lines / borders */
    --stroke: rgba(242,244,255,.14);
    --stroke2: rgba(242,244,255,.08);

    /* Accents */
    --accent: #8b5cff;      /* violet */
    --accent2: #20d7ff;     /* cyan */
    --hot: #ff4d4d;         /* red */
    --hot2: #ffd24a;        /* gold */

    /* Glass */
    --glass: rgba(12,14,20,.62);

    /* Shadows */
    --shadow-lg: 0 34px 110px rgba(0,0,0,.55);
    --shadow-md: 0 20px 70px rgba(0,0,0,.48);
    --shadow-sm: 0 12px 34px rgba(0,0,0,.40);

    /* keep your existing custom props */
    --sigilScale: 1;

    --p: 0;
    --sparkX: 50vw;
    --sparkY: 50vh;
    --sparkA: 1;
    --pathDraw: 0;
    --ignite: 0;
    --vibe: 0;

    --pathVis: 0;
    --heroOn: 1;

    --hOn: 0;
    --hShift: 0px;
    --endOn: 0;
    --endLift: 0px;
    --bgx: 0;
    --bgy: 0;

    --hY: 0px;
    --beat2Y: 0px;
    --endExpand: 0px;

    --radius-xl: 28px;
    --radius-lg: 22px;
    --radius-md: 16px;
    --radius-sm: 12px;

    --hairline: 1px;
  }

  * { box-sizing: border-box; }
  html, body { height: 100%; }

  body{
    margin: 0;
    color: var(--ink);
    background: var(--bg0);
    font-family: 'Inter', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji", "Segoe UI Emoji";
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
    text-rendering: geometricPrecision;
  }

  a { color: inherit; }
  ::selection{ background: rgba(139,92,255,.28); color: var(--ink); }

  @media (prefers-reduced-motion: reduce) {
    * { scroll-behavior: auto !important; animation: none !important; transition: none !important; }
  }

  /* =============================
    Scroll Film + Stage
  ============================= */

  .scroll-film { height: 560vh; position: relative; }

  .stage{
    position: sticky;
    top: 0;
    height: 100vh;
    width: 100%;
    overflow: hidden;
    perspective: 1200px;
    isolation: isolate;
    background: transparent;
  }

  .stage::before{
    content: "";
    position: absolute;
    inset: -40px;
    background:
      radial-gradient(1200px 900px at 50% 18%, rgba(0,0,0,0) 52%, rgba(0,0,0,.52) 100%),
      radial-gradient(900px 700px at 50% 115%, rgba(32,215,255,.08), rgba(0,0,0,0) 72%);
    pointer-events: none;
    z-index: 50;
    mix-blend-mode: normal;
    opacity: .95;
  }

  .grain{
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 49;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23n)' opacity='.22'/%3E%3C/svg%3E");
    background-size: 240px 240px;
    mix-blend-mode: overlay;
    opacity: .06;
    transform: translateZ(0);
    animation: grainShift 7s steps(2, end) infinite;
  }

  @keyframes grainShift{
    0% { transform: translate3d(0, 0, 0); }
    25% { transform: translate3d(-2%, 1%, 0); }
    50% { transform: translate3d(1%, -2%, 0); }
    75% { transform: translate3d(2%, 2%, 0); }
    100% { transform: translate3d(0, 0, 0); }
  }

  /* =============================
    NAV (Glass on dark)
  ============================= */

  .nav{
    position: absolute;
    top: 18px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 60;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 14px;
    padding: 10px 12px;
    border: var(--hairline) solid var(--stroke2);
    border-radius: 999px;
    background: rgba(10,12,18,.62);
    backdrop-filter: blur(14px);
    -webkit-backdrop-filter: blur(14px);
    min-height: 46px;
    padding-right: 110px;
    box-shadow: var(--shadow-sm);
  }

  .nav a{
    color: rgba(242,244,255,.74);
    text-decoration: none;
    font-size: 12px;
    letter-spacing: .10em;
    text-transform: uppercase;
    padding: 9px 11px;
    border-radius: 999px;
    transition: background .2s ease, color .2s ease, transform .2s ease;
    white-space: nowrap;
    outline: none;
  }

  .nav a:hover{
    background: rgba(139,92,255,.16);
    color: var(--ink);
    transform: translateY(-1px);
  }

  .nav a:focus-visible { box-shadow: 0 0 0 3px rgba(139,92,255,.30); }

  .nav-center { display: flex; align-items: center; gap: 10px; }

  .nav-right{
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .nav-wrap{ position: relative; }

  .icon-btn{
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: 14px;
    border: var(--hairline) solid transparent;
    background: transparent;
    cursor: pointer;
    color: rgba(242,244,255,.86);
    padding: 0;
    transition: background .2s ease, transform .2s ease, border-color .2s ease;
  }

  .icon-btn:hover{
    background: rgba(242,244,255,.06);
    border-color: var(--stroke2);
    transform: translateY(-1px);
  }

  .icon{ width: 20px; height: 20px; display: block; }

  .badge{
    position: absolute;
    top: 6px;
    right: 6px;
    min-width: 18px;
    height: 18px;
    padding: 0 6px;
    border-radius: 999px;
    background: linear-gradient(135deg, rgba(32,215,255,.98), rgba(139,92,255,.98));
    color: #ffffff;
    font-size: 12px;
    font-weight: 800;
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 18px;
    transform: translate(20%, -20%);
    box-shadow: 0 10px 26px rgba(0,0,0,.55);
  }

  .badge.hidden { display: none; }

  .menu{
    display: none;
    position: absolute;
    right: 0;
    top: 46px;
    background: rgba(10,12,18,.78);
    box-shadow: var(--shadow-md);
    min-width: 280px;
    border-radius: 18px;
    overflow: hidden;
    z-index: 70;
    border: var(--hairline) solid var(--stroke2);
    backdrop-filter: blur(14px);
    -webkit-backdrop-filter: blur(14px);
  }

  .menu.open { display: block; }

  .menu .meta{
    padding: 10px 14px;
    font-size: 12px;
    color: rgba(242,244,255,.62);
    border-bottom: var(--hairline) solid var(--stroke2);
    background: rgba(242,244,255,.04);
  }

  .menu a, .menu button{
    width: 100%;
    border: none;
    background: none;
    color: var(--ink);
    padding: 12px 14px;
    text-decoration: none;
    display: block;
    text-align: left;
    cursor: pointer;
    font-size: 14px;
    transition: background .2s ease;
  }

  .menu a:hover, .menu button:hover { background: rgba(139,92,255,.14); }

  .cart-items{ max-height: 320px; overflow: auto; }

  .cart-item{
    display: flex;
    gap: 10px;
    padding: 10px 14px;
    border-bottom: var(--hairline) solid var(--stroke2);
  }

  .cart-item:last-child{ border-bottom: none; }

  .thumb{
    width: 44px;
    height: 44px;
    border-radius: 14px;
    background: rgba(242,244,255,.05);
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    color: rgba(242,244,255,.60);
    font-size: 12px;
    flex: 0 0 auto;
    border: var(--hairline) solid var(--stroke2);
  }

  .thumb img{ width: 100%; height: 100%; object-fit: cover; display: block; }

  .ci-main{ flex: 1; min-width: 0; }

  .ci-title{
    font-size: 13px;
    color: var(--ink);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    font-weight: 650;
  }

  .ci-sub{
    margin-top: 4px;
    font-size: 12px;
    color: rgba(242,244,255,.62);
    display: flex;
    justify-content: space-between;
    gap: 10px;
  }

  .cart-actions{
    border-top: var(--hairline) solid var(--stroke2);
    display: flex;
    background: rgba(242,244,255,.04);
  }

  .cart-actions a{ flex: 1; text-align: center; padding: 12px 10px; font-weight: 650; }

  /* Mobile dropdown nav */
  #navToggle, .nav-overlay { display: none; z-index: 50; }

  @media (max-width: 820px){
    .nav{
      left: 50%;
      top: 16px;
      transform: translateX(-50%);
      width: min(92vw, 560px);
      justify-content: space-between;
      gap: 10px;
      padding: 8px 10px;
      padding-right: 10px;
    }

    .nav-center{
      position: absolute;
      left: 10px;
      right: 10px;
      top: calc(100% + 10px);
      display: grid;
      gap: 8px;
      padding: 10px;
      border-radius: 18px;
      border: var(--hairline) solid var(--stroke2);
      background: rgba(10,12,18,.82);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      box-shadow: var(--shadow-lg);
      transform: translateY(-6px) scale(.98);
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
      transition: opacity .18s ease, transform .18s ease, visibility .18s ease;
      z-index: 80;
    }

    .nav-center a{
      padding: 12px 12px;
      border-radius: 16px;
      font-size: 13px;
      letter-spacing: .08em;
      border: var(--hairline) solid var(--stroke2);
      background: rgba(242,244,255,.05);
    }

    .nav-center a:hover{
      background: rgba(139,92,255,.18);
      border-color: rgba(139,92,255,.30);
    }

    .nav-right { position: static; transform: none; gap: 6px; }

    #navToggle{
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      border-radius: 14px;
      border: var(--hairline) solid transparent;
      background: transparent;
      color: rgba(242,244,255,.86);
      cursor: pointer;
    }

    #navToggle:hover{ background: rgba(242,244,255,.06); border-color: var(--stroke2); }

    #navToggle svg{ width: 20px; height: 20px; display: block; }

    .nav-overlay{
      display: block;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.45);
      backdrop-filter: blur(2px);
      -webkit-backdrop-filter: blur(2px);
      opacity: 0;
      pointer-events: none;
      transition: opacity .18s ease;
      z-index: 50;
    }

    body .nav[data-open="1"] .nav-center{
      opacity: 1;
      visibility: visible;
      pointer-events: auto;
      transform: translateY(0) scale(1);
    }

    body .nav[data-open="1"]~.nav-overlay{ opacity: 1; pointer-events: auto; }

    .stage { overflow: visible; }
    .menu { z-index: 90; }
  }

  @media (max-width: 700px){
    .nav { padding-right: 104px; }
    .menu { right: 0; min-width: 86vw; max-width: 360px; }
  }

  /* =============================
    Fixed BG layers (dark)
  ============================= */

  .bg{
    position: fixed;
    inset: 0;
    z-index: -10;
    pointer-events: none;
    overflow: hidden;
  }

  .bg .base{
    position: absolute;
    inset: -20%;
    background:
      radial-gradient(900px 650px at 18% 18%, rgba(139,92,255,.22), transparent 62%),
      radial-gradient(900px 650px at 82% 30%, rgba(32,215,255,.18), transparent 62%),
      radial-gradient(900px 650px at 50% 95%, rgba(255,77,77,.12), transparent 62%),
      linear-gradient(180deg, var(--bg0), var(--bg1));
    transform: translateZ(0);
  }

  .bg .nebula{
    position: absolute;
    inset: -30%;
    background:
      radial-gradient(800px 520px at 25% 70%, rgba(255,210,74,.12), transparent 62%),
      radial-gradient(1000px 700px at 80% 35%, rgba(139,92,255,.14), transparent 70%);
    filter: blur(26px);
    opacity: .95;
    transform: translate3d(calc(var(--bgx) * 1px), calc(var(--bgy) * 1px), 0);
    will-change: transform;
  }

  .bg .grain{
    position: absolute;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23n)' opacity='.20'/%3E%3C/svg%3E");
    background-size: 240px 240px;
    mix-blend-mode: overlay;
    opacity: .05;
    transform: translateZ(0);
  }

  .fadeTop{
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    height: 110px;
    background: linear-gradient(180deg, rgba(5,6,10,.92), rgba(5,6,10,0));
    pointer-events: none;
    z-index: 48;
    opacity: .95;
  }

  .camera{
    position: absolute;
    inset: 0;
    z-index: 1;
    transform: translateZ(0) translate3d(0, calc(var(--vibe) * 1px), 0);
    will-change: transform;
    pointer-events: none;
  }

  /* =============================
    HERO
  ============================= */

  .hero{
    position: absolute;
    inset: 0;
    display: grid;
    place-items: center;
    text-align: center;
    z-index: 10;
    padding: 24px;
    pointer-events: auto;
  }

  .hero-inner{
    width: min(980px, 92vw);
    border: var(--hairline) solid var(--stroke2);
    border-radius: var(--radius-xl);
    background: rgba(10,12,18,.70);
    backdrop-filter: blur(18px);
    -webkit-backdrop-filter: blur(18px);
    padding: clamp(22px, 4vw, 44px);
    box-shadow: var(--shadow-lg);
    transform: translate3d(0, calc((1 - var(--heroOn)) * 40px), 0) scale(calc(.96 + var(--heroOn) * .04));
    opacity: var(--heroOn);
    will-change: transform, opacity;

    position: relative;
    z-index: 121;

    clip-path: url(#heroClip);
    will-change: clip-path, transform;
  }

  .hero-inner::before{
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background:
      radial-gradient(800px 400px at 50% 0%, rgba(32,215,255,.14), transparent 60%),
      radial-gradient(700px 420px at 12% 28%, rgba(139,92,255,.12), transparent 62%),
      radial-gradient(700px 420px at 88% 34%, rgba(255,77,77,.10), transparent 62%);
    opacity: .9;
    pointer-events: none;
  }

  .kicker{
    display: inline-flex;
    gap: 10px;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    letter-spacing: .18em;
    text-transform: uppercase;
    color: rgba(242,244,255,.66);
    margin-bottom: 10px;
    position: relative;
    z-index: 1;
    font-family: 'Space Grotesk', 'Inter', system-ui, sans-serif;
  }

  .kicker span{ font-size: x-large; }

  .dot{
    width: 9px;
    height: 9px;
    border-radius: 50%;
    background: radial-gradient(circle at 30% 30%, #ffffff, var(--accent));
    box-shadow: 0 0 0 6px rgba(139,92,255,.18), 0 10px 30px rgba(0,0,0,.55);
  }

  .hero h1{
    margin: 0 0 12px;
    font-size: clamp(34px, 4.6vw, 66px);
    line-height: 1.02;
    letter-spacing: -0.03em;
    text-shadow: 0 10px 30px rgba(0,0,0,.45);
    position: relative;
    z-index: 1;
    font-family: 'Space Grotesk', 'Inter', system-ui, sans-serif;
    font-weight: 700;
  }

  .hero p{
    margin: 0 auto;
    width: min(760px, 100%);
    font-size: clamp(15px, 1.6vw, 19px);
    line-height: 1.55;
    color: var(--muted);
    position: relative;
    z-index: 1;
  }

  .hero strong{ color: rgba(242,244,255,.92); font-weight: 750; }

  .btn{
    border: var(--hairline) solid var(--stroke2);
    color: var(--ink);
    background: rgba(12,14,20,.62);
    padding: 12px 16px;
    border-radius: 999px;
    text-decoration: none;
    font-size: 14px;
    letter-spacing: .04em;
    transition: transform .18s ease, border-color .18s ease, background .18s ease, box-shadow .18s ease;
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    box-shadow: 0 12px 34px rgba(0,0,0,.35);
    position: relative;
    overflow: hidden;
    will-change: transform;
  }

  .btn:hover{
    transform: translateY(-1px);
    border-color: rgba(139,92,255,.30);
    background: rgba(18,20,28,.78);
    box-shadow: 0 18px 60px rgba(0,0,0,.45);
  }

  .btn.primary{
    border-color: rgba(139,92,255,.32);
    background: linear-gradient(135deg, rgba(139,92,255,.22), rgba(32,215,255,.16));
    box-shadow: 0 18px 70px rgba(0,0,0,.50);
  }

  .btn.primary::after{
    content: "";
    position: absolute;
    inset: -1px;
    background:
      radial-gradient(120px 120px at var(--sparkX) var(--sparkY), rgba(255,255,255,.38), rgba(255,255,255,0) 70%);
    opacity: var(--sparkA);
    pointer-events: none;
    transition: opacity .2s ease;
    mix-blend-mode: overlay;
  }

  .hero-cta{
    position: relative;
    z-index: 122;
    margin-top: 20px;
    display: flex;
    gap: 12px;
    justify-content: center;
    flex-wrap: wrap;
  }

  .hero-cta a{ pointer-events: auto; text-decoration: none; }

  .hero-bg, .hero-overlay, canvas, video { pointer-events: none; }

  /* =============================
    Content Panels / Cards
  ============================= */

  .panel{
    position: absolute;
    left: 50%;
    width: min(1100px, 92vw);
    z-index: 12;
    display: grid;
    gap: 16px;
    opacity: var(--panelOn);
    transform-origin: center;
    transform: translateX(-50%) translate3d(0, calc((1 - var(--panelOn)) * 40px), 0) scale(calc(.98 + var(--panelOn) * .02));
    will-change: opacity, transform;
    pointer-events: auto;
  }

  .panel-row{
    display: grid;
    grid-template-columns: 1.15fr .85fr;
    gap: 16px;
  }

  @media (max-width: 900px){
    .panel-row{ grid-template-columns: 1fr; }
  }

  .card{
    border: var(--hairline) solid var(--stroke2);
    border-radius: var(--radius-lg);
    background: rgba(10,12,18,.72);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    padding: 18px 18px 16px;
    box-shadow: var(--shadow-md);
    overflow: hidden;
    position: relative;
  }

  .card::after{
    content: "";
    position: absolute;
    inset: -1px;
    background:
      radial-gradient(620px 260px at 12% 0%, rgba(32,215,255,.12), transparent 60%),
      radial-gradient(620px 260px at 88% 15%, rgba(139,92,255,.12), transparent 65%);
    pointer-events: none;
    opacity: .95;
  }

  .card h2{
    margin: 0 0 8px;
    font-size: 20px;
    letter-spacing: -0.01em;
    position: relative;
    z-index: 1;
    font-weight: 780;
    font-family: 'Space Grotesk', 'Inter', system-ui, sans-serif;
  }

  .card p{
    margin: 0;
    color: var(--muted);
    line-height: 1.55;
    font-size: 14.5px;
    position: relative;
    z-index: 1;
  }

  .chips{
    margin-top: 14px;
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    position: relative;
    z-index: 1;
  }

  .chip{
    font-size: 12px;
    color: rgba(242,244,255,.78);
    border: var(--hairline) solid var(--stroke2);
    background: rgba(242,244,255,.05);
    padding: 7px 10px;
    border-radius: 999px;
    letter-spacing: .04em;
  }

  .beat{
    position: absolute;
    left: 50%;
    width: min(980px, 92vw);
    z-index: 11;
    text-align: left;
    opacity: var(--beatOn);
    transform: translateX(-50%) translate3d(0, calc((1 - var(--beatOn)) * 22px + var(--beatY, 0px)), 0);
    will-change: opacity, transform;
    pointer-events: auto;
  }

  .beat h3{
    margin: 0 0 8px;
    font-size: clamp(24px, 2.4vw, 34px);
    letter-spacing: -0.03em;
    font-weight: 820;
    font-family: 'Space Grotesk', 'Inter', system-ui, sans-serif;
  }

  .beat p{
    margin: 0;
    color: var(--muted);
    line-height: 1.6;
    max-width: 72ch;
  }

  /* =============================
    Sigil
  ============================= */

  .sigil{
    position: absolute;
    inset: 0;
    z-index: 30;
    pointer-events: none;
    display: grid;
    place-items: center;
    opacity: calc(.10 + var(--pathVis) * .90);
    transition: opacity .15s linear;
  }

  .sigil svg{
    width: min(760px, 92vw);
    height: auto;
    overflow: visible;
    filter:
      drop-shadow(0 20px 50px rgba(0,0,0,.55))
      drop-shadow(0 0 calc(26px * var(--ignite)) rgba(255,77,77,.45));
    transform: translateZ(0) scale(calc((.98 + var(--ignite) * .08) * var(--sigilScale)));
  }

  .sigil .glow{
    fill: none;
    stroke: rgba(139,92,255,0.42);
    stroke-width: 10;
    stroke-linecap: round;
    stroke-linejoin: round;
  }

  .sigil .core{
    fill: none;
    stroke: rgba(242,244,255,.70);
    stroke-width: 3.6;
    stroke-linecap: round;
    stroke-linejoin: round;
  }

  .sigil .fire{
    fill: none;
    stroke: rgba(255,77,77,.0);
    stroke-width: 16;
    stroke-linecap: round;
    stroke-linejoin: round;
    filter: blur(0.35px);
  }

  .sigil[data-ignite="1"] .fire{ stroke: rgba(255,77,77,.50); }

  /* =============================
    Horizontal section
  ============================= */

  .hsection{
    position: absolute;
    left: 50%;
    width: min(1200px, 94vw);
    z-index: 13;
    opacity: var(--hOn);
    transform-origin: center;
    transform: translateX(-50%) translate3d(0, var(--hY), 0);
    will-change: opacity, transform;
    pointer-events: auto;
  }

  .hwrap{
    border: var(--hairline) solid var(--stroke2);
    border-radius: var(--radius-xl);
    background: rgba(10,12,18,.72);
    backdrop-filter: blur(18px);
    -webkit-backdrop-filter: blur(18px);
    box-shadow: var(--shadow-lg);
    overflow: hidden;
    position: relative;
    padding: 14px;
  }

  .hwrap::before{
    content: "";
    position: absolute;
    inset: -1px;
    background:
      radial-gradient(760px 340px at 0% 0%, rgba(32,215,255,.10), transparent 60%),
      radial-gradient(760px 340px at 100% 15%, rgba(139,92,255,.12), transparent 65%);
    pointer-events: none;
    opacity: .95;
  }

  .hheader{
    display: flex;
    align-items: flex-end;
    justify-content: space-between;
    gap: 12px;
    padding: 10px 6px 14px;
    position: relative;
    z-index: 2;
  }

  .hheader h3{
    margin: 0;
    font-size: clamp(18px, 2vw, 26px);
    letter-spacing: -.02em;
    font-weight: 820;
    font-family: 'Space Grotesk', 'Inter', system-ui, sans-serif;
  }

  .hheader p{
    margin: 0;
    color: var(--muted);
    font-size: 13.5px;
    max-width: 70ch;
    line-height: 1.45;
  }

  .htrack{
    display: flex;
    gap: 14px;
    will-change: transform;
    transform: translate3d(var(--hShift), 0, 0);
    padding: 6px;
    position: relative;
    z-index: 2;
  }

  .pCard{
    flex: 0 0 auto;
    width: min(360px, 78vw);
    border-radius: var(--radius-lg);
    border: var(--hairline) solid var(--stroke2);
    background: rgba(10,12,18,.78);
    overflow: hidden;
    box-shadow: var(--shadow-md);
    position: relative;
    transform: translateZ(0);
    transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
  }

  .pCard:hover{
    transform: translateY(-3px);
    box-shadow: 0 26px 70px rgba(0,0,0,.55);
    border-color: rgba(139,92,255,.22);
  }

  .pMedia{
    aspect-ratio: 16/9;
    width: 100%;
    display: block;
    object-fit: cover;
    filter: saturate(1.05) contrast(1.05);
    border-bottom: var(--hairline) solid var(--stroke2);
    transition: transform .65s cubic-bezier(.22,.61,.36,1);
    will-change: transform;
  }

  .pCard:hover .pMedia{ transform: scale(1.05); }

  .pBody{ padding: 14px 14px 12px; display: grid; gap: 8px; }

  .pTitle{
    margin: 0;
    font-size: 16px;
    letter-spacing: -.01em;
    font-weight: 820;
    font-family: 'Space Grotesk', 'Inter', system-ui, sans-serif;
  }

  .pDesc{ margin: 0; color: var(--muted); font-size: 13.5px; line-height: 1.5; }
  .pActions{ display: flex; gap: 10px; flex-wrap: wrap; margin-top: 6px; }
  .pActions .btn{ padding: 10px 12px; font-size: 13px; }

  /* =============================
    End slate
  ============================= */

  .end-slate{
    position: absolute;
    inset: 0;
    z-index: 45;
    display: grid;
    align-content: end;
    justify-items: center;
    padding: 28px 18px;
    pointer-events: none;
    opacity: var(--endOn);
    will-change: opacity;
  }

  .end-box{
    width: min(980px, 92vw);
    border-radius: var(--radius-xl);
    border: var(--hairline) solid var(--stroke2);
    background: rgba(10,12,18,.78);
    backdrop-filter: blur(18px);
    -webkit-backdrop-filter: blur(18px);
    box-shadow: var(--shadow-lg);
    pointer-events: auto;
    height: var(--endExpand);
    overflow: hidden;
    transform-origin: bottom center;
    transform: translate3d(0, var(--endLift), 0);
    will-change: height, transform;
    position: relative;
  }

  .end-box::before{
    content: "";
    position: absolute;
    inset: -1px;
    background:
      radial-gradient(700px 340px at 10% 0%, rgba(32,215,255,.10), transparent 60%),
      radial-gradient(800px 380px at 90% 10%, rgba(139,92,255,.12), transparent 65%),
      radial-gradient(700px 380px at 50% 120%, rgba(255,77,77,.10), transparent 60%);
    pointer-events: none;
    opacity: .95;
  }

  .end-inner{ padding: 16px 16px 14px; position: relative; z-index: 1; }

  .end-grid{
    display: grid;
    grid-template-columns: 1.1fr .9fr;
    gap: 12px;
    align-items: center;
  }

  @media (max-width: 900px){ .end-grid{ grid-template-columns: 1fr; } }

  .end-box h4{
    margin: 0 0 6px;
    font-size: 20px;
    letter-spacing: -0.02em;
    font-weight: 860;
    font-family: 'Space Grotesk', 'Inter', system-ui, sans-serif;
  }

  .end-box p{ margin: 0; color: var(--muted); line-height: 1.55; font-size: 14px; }

  .contacts{ display: flex; flex-wrap: wrap; gap: 8px; justify-content: flex-end; }
  @media (max-width: 900px){ .contacts{ justify-content: flex-start; } }

  .mini{
    font-size: 12px;
    border: var(--hairline) solid var(--stroke2);
    background: rgba(242,244,255,.05);
    padding: 9px 11px;
    border-radius: 999px;
    color: rgba(242,244,255,.82);
    text-decoration: none;
    transition: transform .18s ease, border-color .18s ease, background .18s ease, box-shadow .18s ease;
    box-shadow: 0 12px 34px rgba(0,0,0,.35);
  }

  .mini:hover{
    transform: translateY(-1px);
    border-color: rgba(255,77,77,.35);
    background: rgba(255,77,77,.10);
    box-shadow: 0 16px 50px rgba(0,0,0,.45);
  }

  .copyright{ margin-top: 10px; font-size: 12px; color: rgba(242,244,255,.60); }

  .sponsors{
    margin-top: 22px;
    display: grid;
    gap: 14px;
    justify-items: center;
    text-align: center;
    pointer-events: auto;
    position: relative;
    z-index: 1;
  }

  .sponsors-label{
    font-size: 12px;
    letter-spacing: .18em;
    text-transform: uppercase;
    color: rgba(242,244,255,.55);
  }

  .sponsor-logos{
    display: flex;
    gap: 36px;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
  }

  .sponsor-logos img{
    height: 56px;
    max-width: 240px;
    width: auto;
    opacity: .90;
    filter: grayscale(100%) contrast(1.15);
    transition: opacity .25s ease, filter .25s ease, transform .25s ease;
  }

  .sponsor-logos img:hover{
    opacity: 1;
    filter: grayscale(0%) contrast(1.15);
    transform: translateY(-2px);
  }

  @media (max-width: 700px){
    .sponsor-logos{ gap: 22px; }
    .sponsor-logos img{ height: 46px; }
  }

  /* Click layers fix */
  .camera{ pointer-events: none; }
  .nav, .nav *, .hero, .hero *, .menu, .menu *, .end-box, .end-box *, .hsection, .hsection * { pointer-events: auto; }
  .hero{ z-index: 120; }

  .neon-arrow{
    position: fixed;
    left: 50%;
    bottom: 18px;
    transform: translateX(-50%);
    z-index: 200;
    pointer-events: none;
    opacity: 1;
    transition: opacity .35s ease, transform .35s ease;
    filter: drop-shadow(0 18px 34px rgba(0,0,0,.55));
    animation: bounce 1.25s ease-in-out infinite;
  }

  .neon-arrow.hide{
    opacity: 0;
    transform: translateX(-50%) translateY(10px);
    animation: none;
  }

  .neon-arrow svg{ fill: rgba(242,244,255,.86) !important; }

  @keyframes bounce{
    0%, 100% { transform: translateX(-50%) translateY(0); }
    50% { transform: translateX(-50%) translateY(8px); }
  }

  /* =========================================================
    HIGH-CONTRAST ANIMATED SHAPE MASK FX
  ========================================================= */

  .intro-wipe{
    position: fixed;
    inset: 0;
    z-index: 9999;
    background: #05060a;
    pointer-events: none;
    clip-path: circle(0% at 50% 38%);
    will-change: clip-path;
  }

  body.is-wiping .hero-inner{ filter: contrast(1.15); }

  .fx-layer{
    position: fixed;
    inset: -20%;
    z-index: 2;
    pointer-events: none;
    mix-blend-mode: difference;
    opacity: .95;
    filter: contrast(1.35);
  }

  .fx-blob{
    position: absolute;
    width: 60vmin;
    height: 60vmin;
    border-radius: 999px;
    background: #000;
    will-change: transform;
  }

  .fx-blob.b2{
    width: 44vmin;
    height: 44vmin;
    background: #fff;
    opacity: .9;
  }
</style>
    <script type="module" src="/components/site-navbar.js"></script>

</head>

<body>
  <!-- =========================================================
    SVG clipPath defs for the animated blob mask (invisible)
  ========================================================== -->

  <div class="bg" aria-hidden="true">
    <div class="base"></div>
    <div class="nebula"></div>
    <div class="grain"></div>
  </div>
  <site-navbar
    cart-href="/cart"
    signin-href="/sign-in"
    profile-href="/profile"
    no-spacer="true">
  </site-navbar>
  
  <div class="scroll-film" id="scrollFilm">
    <div class="stage" id="stage">
      <div class="fadeTop"></div>
      <div class="grain"></div>

      <div class="camera" id="camera">

        <!-- HERO -->
        <section class="hero" aria-label="About Unlim8ted">
          <div class="hero-inner" id="heroInner">
            <div class="kicker">
              <span>Unlim8ted Studios</span>
            </div>
            <h1>Creativity, with no finish line.</h1>
            <p>
              Unlim8ted is a small studio building <strong>films</strong>, <strong>games</strong>,
              <strong>music</strong>, <strong>books</strong>,
              <strong>software</strong>, and <strong>AI tools</strong>—crafted like cinematic moments: bold, playful,
              and always pushing forward.
            </p>
            <div class="hero-cta">
              <a class="btn primary" href="/sign-in">Get Started</a>
              <a class="btn" href="/products/">See products</a>
              <a class="btn primary" href="/wise-size">Explore Upcoming Try-On Service</a>
            </div>
          </div>
        </section>

        <div class="neon-arrow hide">
          <svg style="fill:rgba(11,11,18,.88);" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 330 330" width="90"
            height="90">
            <path
              d="M325.607,79.393c-5.857-5.857-15.355-5.858-21.213,0.001l-139.39,139.393L25.607,79.393 c-5.857-5.857-15.355-5.858-21.213,0.001c-5.858,5.858-5.858,15.355,0,21.213l150.004,150c2.813,2.813,6.628,4.393,10.606,4.393 s7.794-1.581,10.606-4.394l149.996-150C331.465,94.749,331.465,85.251,325.607,79.393z">
            </path>
          </svg>
        </div>

        <!-- BEAT: “What we make” -->
        <div class="beat" id="beat1" style="top: 18vh; --beatOn: 0.0000;">
          <h3>We make worlds across mediums.</h3>
          <p>
            Each project is a different doorway—animation, gameplay, audio, story, tools—built with the same obsession:
            make it feel alive.
          </p>
        </div>

        <!-- PANEL: offerings -->
        <div class="panel" id="panel1" style="top: 34vh; --panelOn: 0.0000;">
          <div class="panel-row">
            <div class="card">
              <h2>Films</h2>
              <p>
                Animated and experimental stories—sometimes heartfelt, sometimes chaotic—always character-driven.
                (Yes, the meatball has lore.)
              </p>
              <div class="chips">
                <span class="chip">Animation</span>
                <span class="chip">Short-form</span>
                <span class="chip">Mockumentary vibes</span>
              </div>
            </div>
            <div class="card">
              <h2>Games</h2>
              <p>
                Retro energy, modern feel. Exploration, procedural systems, and mechanics that surprise you when you
                push them.
              </p>
              <div class="chips">
                <span class="chip">2D worlds</span>
                <span class="chip">Sandbox</span>
                <span class="chip">Community feedback</span>
              </div>
            </div>
          </div>

          <div class="panel-row">
            <div class="card">
              <h2>Music &amp; Podcasts</h2>
              <p>
                Tracks and stories that live somewhere between cinematic and personal—built for headphones and big
                scenes.
              </p>
              <div class="chips">
                <span class="chip">Releases</span>
                <span class="chip">Sound design</span>
                <span class="chip">Storytelling</span>
              </div>
            </div>
            <div class="card">
              <h2>Software &amp; AI</h2>
              <p>
                Tools that make creation easier: UI builders, modding utilities, creative assistants, generators—shared
                openly when possible.
              </p>
              <div class="chips">
                <span class="chip">Dev tools</span>
                <span class="chip">Generators</span>
                <span class="chip">Open experiments</span>
              </div>
            </div>
          </div>
        </div>

        <!-- BEAT: “Community” -->
        <div class="beat" id="beat2" style="top: 22vh; --beatOn: 0.0000; --beatY: -132.05px;">
          <h3>We build with the community.</h3>
          <p>
            Updates, prototypes, feedback loops. The best ideas tend to show up in comments, chats, and late-night
            messages.
          </p>
        </div>

        <div class="panel" id="panel2"
          style="top: 42vh; --panelOn: 0.0000; transform: translateX(-50%) translate3d(0px, -176.06px, 0px);">
          <div class="panel-row">
            <div class="card">
              <h2>Where we show up</h2>
              <p>
                GitHub for code, Discord for collaboration, YouTube for dev moments, and wherever people want to talk
                about making things.
              </p>
              <div class="chips">
                <span class="chip">GitHub</span>
                <span class="chip">Discord</span>
                <span class="chip">YouTube</span>
                <span class="chip">Reddit</span>
              </div>
            </div>
            <div class="card">
              <h2>How it works</h2>
              <p>
                Ship → listen → iterate. We treat every release like a living thing that grows with the people who use
                it.
              </p>
              <div class="chips">
                <span class="chip">Prototype</span>
                <span class="chip">Playtest</span>
                <span class="chip">Refine</span>
              </div>
            </div>
          </div>
        </div>

        <!-- SIDEWAYS PRODUCTS SECTION -->
        <div class="hsection" id="hsection" style="top: 80vh; --hOn: 0.0000;">
          <div class="hwrap">
            <div class="hheader">
              <div>
                <h3>Featured creations</h3>
                <p>Scroll down to drift sideways through a few categories. Tap any card to jump to the right page.</p>
              </div>
              <a class="btn primary" href="/products/">Browse all</a>
            </div>

            <div class="htrack" id="htrack" aria-label="Featured products">
              <article class="pCard">
                <img class="pMedia" src="https://assets.unlim8ted.com/images/products/games/TimeCatCover.png"
                  alt="TimeCat cover" />
                <div class="pBody">
                  <h4 class="pTitle">TimeCat</h4>
                  <p class="pDesc">A time-bending cat adventure with systems that fight back (in a good way).</p>
                  <div class="pActions">
                    <a class="btn primary" href="/products/games/">Games</a>
                    <a class="btn" href="/products/">All products</a>
                  </div>
                </div>
              </article>

              <article class="pCard">
                <img class="pMedia" src="https://assets.unlim8ted.com/images/products/films/TheGlitchCover.png"
                  alt="The Glitch cover" />
                <div class="pBody">
                  <h4 class="pTitle">The Glitch</h4>
                  <p class="pDesc">Short-form film experiments—mystery, style, and a little reality distortion.</p>
                  <div class="pActions">
                    <a class="btn primary" href="/products/films.html">Films</a>
                    <a class="btn" href="/portfolio.html">See work</a>
                  </div>
                </div>
              </article>

              <article class="pCard">
                <img class="pMedia"
                  src="https://assets.unlim8ted.com/images/products/software/star_tracker_icon_square.png"
                  alt="Star Tracker icon" />
                <div class="pBody">
                  <h4 class="pTitle">Star Tracker</h4>
                  <p class="pDesc">Tools and experiments that make creation feel like a game.</p>
                  <div class="pActions">
                    <a class="btn primary" href="/products/software.html">Software</a>
                    <a class="btn" href="/products/">All products</a>
                  </div>
                </div>
              </article>

              <article class="pCard">
                <img class="pMedia" src="https://assets.unlim8ted.com/images/products/ai/ai%20icon.png" alt="AI icon" />
                <div class="pBody">
                  <h4 class="pTitle">AI Tools</h4>
                  <p class="pDesc">Creative utilities, generators, and helpers—built to be used, not just demoed.</p>
                  <div class="pActions">
                    <a class="btn primary" href="/products/ai.html">AI</a>
                    <a class="btn" href="/products/">All products</a>
                  </div>
                </div>
              </article>

              <article class="pCard">
                <img class="pMedia" src="https://assets.unlim8ted.com/images/products/music/music%20icon.png"
                  alt="Music icon" />
                <div class="pBody">
                  <h4 class="pTitle">Music</h4>
                  <p class="pDesc">Soundtracks, scenes, and headphone worlds.</p>
                  <div class="pActions">
                    <a class="btn primary" href="/products">Music</a>
                    <a class="btn" href="https://assets.unlim8ted.com/podcasts/ad.html">Podcasts</a>
                  </div>
                </div>
              </article>
            </div>
          </div>
        </div>

        <!-- FIGURE EIGHT (sigil) -->
        <div class="sigil" id="sigil" aria-hidden="true" data-ignite="1">
          <svg id="sigilSvg" viewBox="-66 -111 132 222" role="presentation">
            <path id="eightPath" class="glow" d="
M 0 0
C 23.19596 0, 42 -18.80404, 42 -42
C 42 -65.19596, 23.19596 -84, 0 -84
C -23.19596 -84, -42 -65.19596, -42 -42
C -42 -18.80404, -23.19596 0, 0 0
C 23.19596 0, 42 18.80404, 42 42
C 42 65.19596, 23.19596 84, 0 84
C -23.19596 84, -42 65.19596, -42 42
C -42 18.80404, -23.19596 0, 0 0
Z
" style="stroke-dasharray: 527.86px; stroke-dashoffset: 0px;"></path>
            <path id="eightCore" class="core" d="
M 0 0
C 23.19596 0, 42 -18.80404, 42 -42
C 42 -65.19596, 23.19596 -84, 0 -84
C -23.19596 -84, -42 -65.19596, -42 -42
C -42 -18.80404, -23.19596 0, 0 0
C 23.19596 0, 42 18.80404, 42 42
C 42 65.19596, 23.19596 84, 0 84
C -23.19596 84, -42 65.19596, -42 42
C -42 18.80404, -23.19596 0, 0 0
Z
" style="stroke-dasharray: 527.86px; stroke-dashoffset: 0px;"></path>
            <path id="eightFire" class="fire" d="
M 0 0
C 23.19596 0, 42 -18.80404, 42 -42
C 42 -65.19596, 23.19596 -84, 0 -84
C -23.19596 -84, -42 -65.19596, -42 -42
C -42 -18.80404, -23.19596 0, 0 0
C 23.19596 0, 42 18.80404, 42 42
C 42 65.19596, 23.19596 84, 0 84
C -23.19596 84, -42 65.19596, -42 42
C -42 18.80404, -23.19596 0, 0 0
Z
" style="stroke-dasharray: 527.86px; stroke-dashoffset: 0px;"></path>
          </svg>
        </div>

        <!-- End Slate -->
        <div class="end-slate" id="endSlate" style="--endOn: 1.0000;">
          <div class="end-box" id="endBox">
            <div class="end-inner">
              <div class="end-grid">
                <div>
                  <h4>The sky is not the limit.</h4>
                  <p>
                    If you want to collaborate, ask a question, or just say hi, reach out. We read everything.
                  </p>
                  <div class="copyright" id="copyright">© 2019–2026 Unlim8ted Studios. All rights reserved.</div>
                </div>
                <div class="contacts" aria-label="Contact links">
                  <a class="mini" href="mailto:support@unlim8ted.com">support@unlim8ted.com</a>
                  <a class="mini" href="mailto:contact@unlim8ted.com">contact@unlim8ted.com</a>
                  <a class="mini" href="mailto:enquiries@unlim8ted.com">enquiries@unlim8ted.com</a>
                  <a class="mini" href="mailto:news@unlim8ted.com">news@unlim8ted.com</a>
                  <a class="mini" href="/contact.html">Contact page</a>
                </div>
              </div>
            </div>

            <div class="sponsors">
              <div class="sponsors-label">In collaboration with</div>
              <div class="sponsor-logos">
                <img src="https://assets.unlim8ted.com/images/logo/Zipper Line Logo.png" alt="Zipper Line"
                  draggable="false" />
                <img src="https://assets.unlim8ted.com/images/logo/Bnacintech Industries logo.png"
                  alt="Bnacintech Industries" draggable="false" />
                <img src="https://assets.unlim8ted.com/images/logo/Sky Tale Media Logo.png" alt="Sky Tale Media"
                  draggable="false" />
                <img src="https://assets.unlim8ted.com/images/logo/LMMH_LOGO+BLACK.webp" alt="LMMH"
                  draggable="false" />
                <img src="https://assets.unlim8ted.com/images/logo/New Heights Logo.png" alt="New Heights"
                  draggable="false" />
              </div>
            </div>

          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- GSAP -->
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>

  <!-- ✅ MorphSVGPlugin (for organic animated mask morphing) -->
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/MorphSVGPlugin.min.js"></script>

  <!-- Firebase / cart / account (your original module) -->
  <script type="module">
    import { getFirebase } from "/components/firebase-init.js";

    import { onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js";
    import { collection, onSnapshot, query } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js";

    const { auth, db } = getFirebase();

    const cartBtn = document.getElementById("cartBtn");
    const cartMenu = document.getElementById("cartMenu");
    const cartBadge = document.getElementById("cartBadge");
    const cartMeta = document.getElementById("cartMeta");
    const cartItemsEl = document.getElementById("cartItems");

    const profileBtn = document.getElementById("profileBtn");
    const profileMenu = document.getElementById("profileMenu");
    const menuMeta = document.getElementById("menuMeta");
    const menuPrimary = document.getElementById("menuPrimary");
    const menuSignOut = document.getElementById("menuSignOut");

    let unsubCart = null;
    let cartItems = [];

    // ===== https://assets.unlim8ted.com/data/products.json cache/index =====
    let PRODUCTS_LOADED = false;
    let PRODUCTS_LOADING = null;
    let PRODUCT_BY_ID = new Map();
    let VARIANT_BY_KEY = new Map(); // `${productId}::${variantId}` -> variant

    const safeUrl = (u) => {
      const s = String(u || "").trim();
      if (!s) return "";
      if (s.startsWith("https://") || s.startsWith("http://") || s.startsWith("/")) return s;
      return "";
    };

    function parsePrice(val) {
      if (val == null) return null;
      if (typeof val === "number") return Number.isFinite(val) ? val : null;
      const s = String(val).trim();
      if (!s) return null;
      const cleaned = s.replace(/[^0-9.\-]/g, "");
      if (!cleaned) return null;
      const n = Number(cleaned);
      return Number.isFinite(n) ? n : null;
    }

    function normalizePriceNumber(n) {
      if (!Number.isFinite(n)) return null;
      if (n >= 1000 && Math.abs(n - Math.round(n)) < 1e-9) return n / 100;
      return n;
    }

    function formatMoney(n) {
      const v = normalizePriceNumber(n);
      if (v == null) return "";
      return `$${v.toFixed(2)}`;
    }

    async function loadProducts() {
      if (PRODUCTS_LOADED) return;
      if (PRODUCTS_LOADING) return PRODUCTS_LOADING;

      PRODUCTS_LOADING = (async () => {
        try {
          const r = await fetch("https://assets.unlim8ted.com/data/products.json", { cache: "no-store" });
          if (!r.ok) throw new Error("Failed to load https://assets.unlim8ted.com/data/products.json");
          const data = await r.json();
          const products = Array.isArray(data) ? data : (data?.products || []);
          indexProducts(products);
          PRODUCTS_LOADED = true;
        } catch (e) {
          console.warn("https://assets.unlim8ted.com/data/products.json load failed:", e);
        } finally {
          PRODUCTS_LOADING = null;
        }
      })();

      return PRODUCTS_LOADING;
    }

    function indexProducts(products) {
      PRODUCT_BY_ID = new Map();
      VARIANT_BY_KEY = new Map();

      for (const p of (products || [])) {
        const pid = String(p.id ?? p.productId ?? "").trim();
        if (!pid) continue;

        PRODUCT_BY_ID.set(pid, p);

        const vars = Array.isArray(p.varients) ? p.varients : (Array.isArray(p.variants) ? p.variants : []);
        for (const v of vars) {
          const vid = String(v.id ?? v.variantId ?? "").trim();
          if (!vid) continue;
          VARIANT_BY_KEY.set(`${pid}::${vid}`, v);
        }
      }
    }

    function normalizeCartItem(raw) {
      const it = { ...(raw || {}) };
      const pidRaw = String(it.productId ?? it.pid ?? "").trim();
      const vidRaw = String(it.variantId ?? it.vid ?? "").trim();

      if (pidRaw.includes("__") && !vidRaw) {
        const [basePid, ...rest] = pidRaw.split("__");
        const base = String(basePid || "").trim();
        const v = rest.join("__").trim();
        if (base && v) {
          it.productId = base;
          it.variantId = v;
        }
      }

      if (it.productId != null) it.productId = String(it.productId).trim();
      if (it.variantId != null) it.variantId = String(it.variantId).trim();

      it.qty = Number(it.qty);
      if (!Number.isFinite(it.qty) || it.qty <= 0) it.qty = 1;

      return it;
    }

    const escapeHtml = (s) =>
      String(s).replace(/[&<>"']/g, (c) => ({
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#39;",
      }[c]));

    const closeMenus = () => {
      cartMenu?.classList.remove("open");
      profileMenu?.classList.remove("open");
      cartBtn?.setAttribute("aria-expanded", "false");
      profileBtn?.setAttribute("aria-expanded", "false");
    };

    cartBtn?.addEventListener("click", (e) => {
      e.stopPropagation();
      profileMenu?.classList.remove("open");
      profileBtn?.setAttribute("aria-expanded", "false");
      const open = cartMenu?.classList.toggle("open");
      cartBtn?.setAttribute("aria-expanded", open ? "true" : "false");
    });

    profileBtn?.addEventListener("click", (e) => {
      e.stopPropagation();
      cartMenu?.classList.remove("open");
      cartBtn?.setAttribute("aria-expanded", "false");
      const open = profileMenu?.classList.toggle("open");
      profileBtn?.setAttribute("aria-expanded", open ? "true" : "false");
    });

    window.addEventListener("click", closeMenus);
    document.addEventListener("keydown", (e) => { if (e.key === "Escape") closeMenus(); });
    cartMenu?.addEventListener("click", (e) => e.stopPropagation());
    profileMenu?.addEventListener("click", (e) => e.stopPropagation());

    menuSignOut?.addEventListener("click", async () => {
      try {
        await signOut(auth);
        closeMenus();
      } catch (e) {
        console.error("Sign out failed:", e);
      }
    });

    const countCart = (items) => (items || []).reduce((sum, it) => sum + (Number(it.qty) || 1), 0);

    const updateBadge = (count) => {
      if (!cartBadge) return;
      const n = Math.max(0, Number(count) || 0);
      cartBadge.textContent = n > 99 ? "99+" : String(n);
      cartBadge.classList.toggle("hidden", n === 0);
    };

    function resolveCartDisplay(raw) {
      const it = normalizeCartItem(raw);

      const productId = String(it.productId || "").trim();
      const variantId = String(it.variantId || "").trim();

      const p = productId ? (PRODUCT_BY_ID.get(productId) || null) : null;
      const v = (productId && variantId) ? (VARIANT_BY_KEY.get(`${productId}::${variantId}`) || null) : null;

      const title =
        String(it.title || it.name || it.productName || "").trim() ||
        String(p?.name || p?.title || productId || "Item").trim();

      const variantLabel =
        String(it.variantLabel || "").trim() ||
        String(v?.name || v?.label || "").trim();

      const itemPrice = parsePrice(it.price ?? it.priceNum);
      const variantPrice = parsePrice(v?.price ?? v?.priceNum);
      const productPrice = parsePrice(p?.price ?? p?.priceNum);

      const price = normalizePriceNumber(itemPrice ?? variantPrice ?? productPrice ?? null);

      let image = safeUrl(it.image || it.imageUrl || "");
      if (!image && v) {
        image =
          safeUrl(v.image || v.imageUrl || "") ||
          (Array.isArray(v.images) && v.images.length ? safeUrl(v.images[0]) : "");
      }
      if (!image && p) {
        image =
          safeUrl(p.image || p.imageUrl || "") ||
          (Array.isArray(p.images) && p.images.length ? safeUrl(p.images[0]) : "");
      }

      return { title, variantLabel, price, image };
    }

    const getLocalCartItems = () => {
      try {
        const raw = localStorage.getItem("unlim8ted-cart");
        if (!raw) return [];
        const arr = JSON.parse(raw);
        if (!Array.isArray(arr)) return [];

        return arr.map((it, idx) => normalizeCartItem({
          id: it.id || it._id || `local-${idx}`,
          productId: it.productId || it.pid || null,
          variantId: it.variantId || it.vid || null,
          qty: it.qty,

          title: it.title || it.name || it.productName || "",
          variantLabel: it.variantLabel || "",
          price: it.price ?? it.priceNum ?? null,
          priceNum: it.priceNum ?? null,
          image: it.image ?? it.imageUrl ?? null,
        }));
      } catch {
        return [];
      }
    };

    const renderCartMenu = () => {
      if (!cartMeta || !cartItemsEl) return;

      const totalCount = countCart(cartItems);
      cartMeta.textContent = totalCount ? `Cart (${totalCount})` : "Cart (empty)";

      if (!cartItems.length) {
        cartItemsEl.innerHTML = `
        <div style="padding:12px 14px; color:rgba(11,11,18,.65); font-size:13px;">
          Your cart is empty.
        </div>
      `;
        return;
      }

      const show = cartItems.slice(0, 5);

      cartItemsEl.innerHTML = show.map((raw) => {
        const r = resolveCartDisplay(raw);
        const qty = Number(raw.qty) || 1;

        const subLeft = r.variantLabel ? `Qty: ${qty} • ${escapeHtml(r.variantLabel)}` : `Qty: ${qty}`;
        const subRight = (r.price != null) ? escapeHtml(formatMoney(r.price)) : "";

        return `
        <div class="cart-item">
          <div class="thumb">
            ${r.image ? `<img src="${escapeHtml(r.image)}" alt="">` : "Item"}
          </div>
          <div class="ci-main">
            <div class="ci-title">${escapeHtml(r.title)}</div>
            <div class="ci-sub">
              <span>${subLeft}</span>
              <span>${subRight}</span>
            </div>
          </div>
        </div>
      `;
      }).join("");

      if (cartItems.length > show.length) {
        cartItemsEl.innerHTML += `
        <div style="padding:10px 14px; font-size:12px; color:rgba(11,11,18,.62); border-top:1px solid rgba(11,11,18,.08);">
          + ${cartItems.length - show.length} more item(s)
        </div>
      `;
      }
    };

    const bindCartListener = async (user) => {
      if (unsubCart) unsubCart();
      unsubCart = null;

      await loadProducts();

      if (!user) {
        cartItems = getLocalCartItems();
        renderCartMenu();
        updateBadge(countCart(cartItems));
        return;
      }

      const itemsRef = collection(db, "users", user.uid, "cartItems");
      const qy = query(itemsRef);

      unsubCart = onSnapshot(
        qy,
        async (snap) => {
          const items = [];
          snap.forEach((d) => {
            const data = d.data() || {};
            items.push(normalizeCartItem({
              id: d.id,
              productId: data.productId ?? null,
              variantId: data.variantId ?? null,
              qty: data.qty,

              title: data.title || data.name || data.productName || "",
              variantLabel: data.variantLabel || "",
              price: data.price ?? data.priceNum ?? null,
              priceNum: data.priceNum ?? null,
              image: data.image ?? data.imageUrl ?? null,
            }));
          });

          cartItems = items;
          await loadProducts();
          renderCartMenu();
          updateBadge(countCart(items));
        },
        (err) => {
          console.error("Cart listener error:", err);
          cartItems = getLocalCartItems();
          renderCartMenu();
          updateBadge(countCart(cartItems));
        }
      );
    };

    const updateAccountMenu = (user) => {
      if (!menuMeta || !menuPrimary || !menuSignOut) return;

      if (!user) {
        menuMeta.textContent = "Not signed in";
        menuPrimary.textContent = "Sign In";
        menuPrimary.href = "/sign-in";
        menuSignOut.style.display = "none";
        return;
      }

      menuMeta.textContent = user.email || "Signed in";
      menuPrimary.textContent = "Profile";
      menuPrimary.href = "/profile";
      menuSignOut.style.display = "block";
    };

    // Preload products and render ASAP
    loadProducts().then(() => renderCartMenu()).catch(() => { });

    // Initial render (logged-out fallback)
    cartItems = getLocalCartItems();
    renderCartMenu();
    updateBadge(countCart(cartItems));

    onAuthStateChanged(auth, (user) => {
      updateAccountMenu(user || null);
      bindCartListener(user || null);
    });
  </script>

  <!-- Hide arrow after scroll -->
  <script>
    (function () {
      const arrow = document.querySelector(".neon-arrow");
      if (!arrow) return;

      const HIDE_AFTER_PX = 700;
      let hidden = false;

      function checkScroll() {
        if (hidden) return;
        const y = window.scrollY || window.pageYOffset || 0;
        if (y >= HIDE_AFTER_PX) {
          arrow.classList.add("hide");
          hidden = true;
        }
      }

      addEventListener("scroll", checkScroll, { passive: true });
      addEventListener("wheel", checkScroll, { passive: true });
      addEventListener("touchmove", checkScroll, { passive: true });

      addEventListener("keydown", (e) => {
        if (["ArrowDown", "PageDown", "Space", "End"].includes(e.code)) {
          requestAnimationFrame(checkScroll);
        }
      });
    })();
  </script>

  <!-- Mobile nav open/close -->
  <script>
    (function () {
      const nav = document.querySelector(".nav");
      const toggle = document.getElementById("navToggle");
      const overlay = document.getElementById("navOverlay");
      if (!nav || !toggle || !overlay) return;

      const close = () => nav.dataset.open = "0";
      const open = () => nav.dataset.open = "1";
      const isOpen = () => nav.dataset.open === "1";

      toggle.addEventListener("click", (e) => {
        e.stopPropagation();
        isOpen() ? close() : open();
        document.getElementById("cartMenu")?.classList.remove("open");
        document.getElementById("profileMenu")?.classList.remove("open");
      });

      overlay.addEventListener("click", close);
      nav.querySelectorAll(".nav-center a").forEach(a => a.addEventListener("click", close));
      addEventListener("keydown", (e) => { if (e.key === "Escape") close(); });
      close();
    })();
  </script>

  <!-- GSAP Scroll-driven scene (your original logic kept) -->
  <script>
    (function () {
      const prefersReduced = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;

      // Footer year
      const year = new Date().getFullYear();
      const c = document.getElementById("copyright");
      if (c) c.textContent = `© 2019–${year} Unlim8ted Studios. All rights reserved.`;

      if (prefersReduced || !window.gsap || !window.ScrollTrigger) return;

      gsap.registerPlugin(ScrollTrigger);

      const root = document.documentElement;
      const film = document.getElementById("scrollFilm");
      const sigil = document.getElementById("sigil");

      const beat1 = document.getElementById("beat1");
      const panel1 = document.getElementById("panel1");
      const beat2 = document.getElementById("beat2");
      const panel2 = document.getElementById("panel2");

      const hsection = document.getElementById("hsection");
      const htrack = document.getElementById("htrack");

      const endSlate = document.getElementById("endSlate");

      const eightPath = document.getElementById("eightPath");
      const eightCore = document.getElementById("eightCore");
      const eightFire = document.getElementById("eightFire");

      // Mirror path
      if (eightCore && eightFire && eightPath) {
        eightCore.setAttribute("d", eightPath.getAttribute("d"));
        eightFire.setAttribute("d", eightPath.getAttribute("d"));
      }

      // Prepare stroke dash
      const pathLen = eightPath.getTotalLength();
      [eightPath, eightCore, eightFire].forEach(p => {
        p.style.strokeDasharray = pathLen.toFixed(2);
        p.style.strokeDashoffset = pathLen.toFixed(2);
      });

      const clamp01 = (v) => Math.max(0, Math.min(1, v));
      const smoothstep = (t) => t * t * (3 - 2 * t);

      function range(p, a, b) { return clamp01((p - a) / (b - a)); }

      // Horizontal shift max
      let hMaxShift = 0;
      function measureH() {
        const wrap = hsection?.querySelector(".hwrap");
        if (!wrap || !htrack) return;
        const wrapW = wrap.getBoundingClientRect().width;
        const trackW = htrack.scrollWidth;
        hMaxShift = Math.max(0, trackW - wrapW);
      }

      // Sigil draw tween
      const sigilDraw = gsap.timeline({ paused: true })
        .to([eightPath, eightCore], { strokeDashoffset: 0, duration: 1, ease: "none" }, 0)
        .to(eightFire, { strokeDashoffset: 0, duration: 1, ease: "none" }, 0);

      // Ignite tween (scalar)
      const igniteObj = { v: 0 };
      const igniteTween = gsap.to(igniteObj, { v: 1, duration: 1, paused: true, ease: "none" });

      function computeHLiftDelta() {
        if (!hsection) return 0;
        const hRect = hsection.getBoundingClientRect();
        const hTargetY = (window.innerHeight * 0.5) - (hRect.height * 0.5);
        const hStartY = (window.innerHeight * 0.80); // because top:80vh
        return hTargetY - hStartY;
      }

      const master = ScrollTrigger.create({
        trigger: film,
        start: "top top",
        end: "bottom bottom",
        scrub: 0.35,
        onRefresh: () => { measureH(); },
        onUpdate: (self) => {
          const p = self.progress; // 0..1

          const minDim = Math.min(window.innerWidth, window.innerHeight);
          const sigilScale = Math.max(0.78, Math.min(1.18, minDim / 900));

          const bgx = Math.sin(p * Math.PI * 2) * 20;
          const bgy = Math.cos(p * Math.PI * 2) * 14;
          const vibe = Math.sin(p * Math.PI * 2) * 2.2;

          // HERO: 0.00-0.18
          const heroOn = 1 - smoothstep(range(p, 0.00, 0.18));

          // BEAT1/PANEL1
          const beat1On = smoothstep(range(p, 0.10, 0.26)) * (1 - smoothstep(range(p, 0.42, 0.56)));
          const panel1On = smoothstep(range(p, 0.16, 0.30)) * (1 - smoothstep(range(p, 0.48, 0.60)));

          // BEAT2/PANEL2
          const beat2On = smoothstep(range(p, 0.48, 0.62)) * (1 - smoothstep(range(p, 0.70, 0.82)));
          const panel2On = smoothstep(range(p, 0.54, 0.66)) * (1 - smoothstep(range(p, 0.74, 0.86)));

          // Lift-in for hsection / panel2 / beat2
          const liftInA = 0.70;
          const liftInB = 0.78;
          const hLiftTD = smoothstep(range(p, liftInA, liftInB));

          const deltaY = computeHLiftDelta();
          const hY = deltaY * hLiftTD;

          // Sideways: 0.78 - 0.88, then gap fadeout: 0.88 - 0.915
          const sideStart = 0.78;
          const sideEnd = 0.88;
          const gapA = 0.88;
          const gapB = 0.915;

          const sideT = smoothstep(range(p, sideStart, sideEnd));

          const hFadeIn = smoothstep(range(p, sideStart - 0.03, sideStart + 0.02));
          const hFadeOut = smoothstep(range(p, gapA + 0.01, gapB));
          const hOn = clamp01(hFadeIn * (1 - hFadeOut));

          const hShift = -sideT * hMaxShift;

          // Sigil starts AFTER gap
          const sigilOnT = smoothstep(range(p, gapB, 0.96));
          const drawTraw = smoothstep(range(p, gapB + 0.015, 0.975));
          const igniteT = smoothstep(range(p, 0.975, 1.0));

          sigilDraw.progress(drawTraw);
          igniteTween.progress(igniteT);

          if (sigil) sigil.dataset.ignite = igniteObj.v > 0.35 ? "1" : "0";

          // End slate
          const endOn = smoothstep(range(p, 0.970, 0.993));
          const endLiftT = smoothstep(range(p, 0.985, 1.000));
          const expandT = smoothstep(range(p, 0.982, 1.000));

          const liftMax = -Math.max(120, Math.min(240, window.innerHeight * 0.20));
          const settle = 1 - expandT;
          const endLift = liftMax * endLiftT * settle;

          const expandMax = Math.max(560, Math.min(980, window.innerHeight * 0.92));
          const endExpand = expandMax * expandT;

          gsap.set(root, {
            "--p": p.toFixed(5),
            "--sigilScale": sigilScale.toFixed(4),
            "--bgx": bgx.toFixed(2),
            "--bgy": bgy.toFixed(2),
            "--vibe": vibe.toFixed(3),
            "--heroOn": clamp01(heroOn).toFixed(4),
            "--hOn": hOn.toFixed(4),
            "--hShift": hShift.toFixed(2) + "px",
            "--hY": hY.toFixed(2) + "px",
            "--pathVis": sigilOnT.toFixed(4),
            "--ignite": igniteObj.v.toFixed(4),
            "--pathDraw": drawTraw.toFixed(4),
            "--endOn": endOn.toFixed(4),
            "--endLift": endLift.toFixed(2) + "px",
            "--endExpand": endExpand.toFixed(2) + "px",
          });

          if (beat1) beat1.style.setProperty("--beatOn", beat1On.toFixed(4));
          if (panel1) panel1.style.setProperty("--panelOn", panel1On.toFixed(4));

          if (beat2) {
            beat2.style.setProperty("--beatOn", beat2On.toFixed(4));
            const beat2Lift = deltaY * 0.45 * hLiftTD;
            beat2.style.setProperty("--beatY", beat2Lift.toFixed(2) + "px");
          }
          if (panel2) {
            panel2.style.setProperty("--panelOn", panel2On.toFixed(4));
            const panel2Lift = deltaY * 0.6 * hLiftTD;
            panel2.style.transform = `translateX(-50%) translate3d(0, ${panel2Lift.toFixed(2)}px, 0)`;
          }

          if (hsection) hsection.style.setProperty("--hOn", hOn.toFixed(4));
          if (endSlate) endSlate.style.setProperty("--endOn", endOn.toFixed(4));
        }
      });

      const onResize = () => ScrollTrigger.refresh();
      window.addEventListener("resize", onResize, { passive: true });

      measureH();
      ScrollTrigger.refresh();
    })();
  </script>

  <!-- Smooth virtual scroll (your original block) -->
  <script>
    (() => {
      const prefersReduced = matchMedia("(prefers-reduced-motion: reduce)").matches;
      if (prefersReduced) return;

      const film = document.getElementById("scrollFilm");
      let virtualY = window.scrollY;
      let currentY = window.scrollY;
      let isAnimating = false;
      let lastTouchY = 0;

      const clamp = (v, a, b) => Math.max(a, Math.min(b, v));

      function maxScroll() {
        return Math.max(0, film.offsetHeight - innerHeight);
      }

      const isMobile =
        matchMedia("(pointer: coarse)").matches ||
        /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);

      const TOUCH_MULT = isMobile ? 1.9 : .8;
      const WHEEL_MULT = isMobile ? 1.25 : .8;
      const FOLLOW = isMobile ? 0.075 : 0.045;

      function start() {
        if (isAnimating) return;
        isAnimating = true;

        const step = () => {
          const diff = virtualY - currentY;
          currentY += diff * FOLLOW;
          window.scrollTo(0, currentY);

          if (Math.abs(diff) > 0.5) {
            requestAnimationFrame(step);
          } else {
            isAnimating = false;
          }
        };

        requestAnimationFrame(step);
      }

      function onWheel(e) {
        e.preventDefault();
        virtualY = clamp(virtualY + e.deltaY * WHEEL_MULT, 0, maxScroll());
        start();
      }

      function onTouchStart(e) {
        lastTouchY = e.touches[0].clientY;
      }

      function onTouchMove(e) {
        e.preventDefault();
        const touchY = e.touches[0].clientY;
        const deltaY = (lastTouchY - touchY) * TOUCH_MULT;
        lastTouchY = touchY;

        virtualY = clamp(virtualY + deltaY, 0, maxScroll());
        start();
      }

      addEventListener("wheel", onWheel, { passive: false });
      addEventListener("touchstart", onTouchStart, { passive: true });
      addEventListener("touchmove", onTouchMove, { passive: false });

      addEventListener("resize", () => {
        virtualY = clamp(virtualY, 0, maxScroll());
        currentY = clamp(currentY, 0, maxScroll());
      });
    })();
  </script>

  <!-- Pointer-follow sparkle for primary buttons -->
  <script>
    (function () {
      const root = document.documentElement;
      const move = (e) => {
        root.style.setProperty("--sparkX", e.clientX + "px");
        root.style.setProperty("--sparkY", e.clientY + "px");
        root.style.setProperty("--sparkA", "1");
      };
      const fade = () => root.style.setProperty("--sparkA", "0");
      addEventListener("pointermove", move, { passive: true });
      addEventListener("pointerleave", fade, { passive: true });
    })();
  </script>

  <!-- ✅ NEW: High-contrast mask FX + animated blobs + hero mask morph + magnetic buttons -->
  <script>
    (function () {
      const prefersReduced = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;
      if (prefersReduced || !window.gsap) return;

      // 1) Intro wipe (circle expansion)
      const wipe = document.createElement("div");
      wipe.className = "intro-wipe";
      document.body.classList.add("is-wiping");
      document.body.appendChild(wipe);

      gsap.to(wipe, {
        clipPath: "circle(150% at 50% 38%)",
        duration: 1.15,
        ease: "power4.inOut",
        onComplete: () => {
          document.body.classList.remove("is-wiping");
          wipe.remove();
        }
      });


      // 4) Pointer-reactive hero float (subtle)
      const hero = document.getElementById("heroInner");
      if (hero) {
        const xTo = gsap.quickTo(hero, "x", { duration: 0.6, ease: "power3" });
        const yTo = gsap.quickTo(hero, "y", { duration: 0.6, ease: "power3" });

        window.addEventListener("pointermove", (e) => {
          const px = (e.clientX / innerWidth - 0.5) * 16;
          const py = (e.clientY / innerHeight - 0.5) * 16;
          xTo(px);
          yTo(py);
        }, { passive: true });

        window.addEventListener("pointerleave", () => { xTo(0); yTo(0); }, { passive: true });
      }

      // 5) Magnetic buttons (premium micro-interaction)
      document.querySelectorAll(".btn").forEach(btn => {
        const xTo = gsap.quickTo(btn, "x", { duration: 0.28, ease: "power3" });
        const yTo = gsap.quickTo(btn, "y", { duration: 0.28, ease: "power3" });

        btn.addEventListener("mousemove", e => {
          const r = btn.getBoundingClientRect();
          const x = e.clientX - r.left - r.width / 2;
          const y = e.clientY - r.top - r.height / 2;
          xTo(x * 0.18);
          yTo(y * 0.18);
        });

        btn.addEventListener("mouseleave", () => { xTo(0); yTo(0); });
      });
    })();
  </script>

</body>
</html>
