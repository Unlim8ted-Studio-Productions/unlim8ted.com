<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Upload Products to Firebase</title>
  <script type="module">
    // Import Firebase SDK
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
    import { getFirestore, collection, doc, setDoc } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js";
    import { getAuth, signInWithPopup, GoogleAuthProvider, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js";

    // Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyC8rw6kaFhJ2taebKRKKEA7iLqBvak_Dbc",
      authDomain: "unlim8ted-db.firebaseapp.com",
      projectId: "unlim8ted-db",
      storageBucket: "unlim8ted-db.appspot.com",
      messagingSenderId: "1059428499872",
      appId: "1:1059428499872:web:855308683718237de6e4c5",
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);
    const auth = getAuth(app);

    // Google Auth Provider
    const provider = new GoogleAuthProvider();

    const products = [
      {
        "id": "The-Life-of-a-Meatball",
        "image": "https://unlim8ted.com/images/products/films/The%20Life%20of%20a%20Meatball.jpg",
        "additional_images": [
          "https://unlim8ted.com/images/products/films/The%20Life%20of%20a%20Meatball1.jpg"
        ],
        "video": "https://unlim8ted.com/videos/products/films/the life of a meatball/The Life of a Meatball Trailer.mov",
        "additional_videos": [
          "https://unlim8ted.com/videos/products/films/the life of a meatball/The Life of a Meatball Transition.mov"
        ],
        "name": "The Life of a Meatball",
        "description": "Deep within the Tasmanian Jungles lie meatball factories. These factories produce meatballs, although something quite special can happen as shown in this captivating documentary.",
        "price": 0.0,
        "link": "https://unlim8ted.com/products#The-Life-of-a-Meatball"
      },
      {
        "id": "ChatApp",
        "image": null,
        "additional_images": [],
        "video": null,
        "additional_videos": [],
        "name": "ChatApp",
        "description": "Lets you chat with your friends with entertaining visuals and easy to use UI's. Python \u2022 0 \u2022 0 \u2022 0 \u2022 0 \u2022 Updated Mar 8, 2024",
        "price": 0,
        "type": "Entertainment",
        "link": "https://unlim8ted.com/products#ChatApp"
      },
      {
        "id": "ChessVR",
        "image": null,
        "additional_images": [],
        "video": null,
        "additional_videos": [],
        "name": "ChessVR",
        "description": "ChessVR repository. No further description available.",
        "price": 0,
        "type": "Entertainment",
        "link": "https://unlim8ted.com/products#ChessVR"
      },
      {
        "id": "Download-Any-Youtube-Video",
        "image": null,
        "additional_images": [],
        "video": null,
        "additional_videos": [],
        "name": "Download-Any-Youtube-Video",
        "description": "Python script to download any YouTube video, either for watching it later, or using it in a project. Python \u2022 0 \u2022 1 \u2022 0 \u2022 0 \u2022 Updated Jun 9, 2024",
        "price": 0,
        "type": "Entertainment",
        "link": "https://github.com/Unlim8ted-Studio-Productions/Download-Any-Youtube-Video"
      },
      {
        "id": "Easy_pygame_UI-Maker",
        "image": null,
        "additional_images": [],
        "video": null,
        "additional_videos": [],
        "name": "Easy_pygame_UI-Maker",
        "description": "Pygame UI Designer for creating and customizing UI elements and menues. HTML \u2022 0 \u2022 0 \u2022 0 \u2022 0 \u2022 Updated Mar 21, 2024",
        "price": 0,
        "type": "Productivity",
        "link": "https://github.com/Unlim8ted-Studio-Productions/Easy_pygame_UI-Maker"
      },
      {
        "id": "Face-Stuff",
        "image": null,
        "additional_images": [],
        "video": null,
        "additional_videos": [],
        "name": "Face-Stuff",
        "description": "Various face experiments using AI technology to apply various fun effects to your face and even controll your computer with your hands. No further description available. Python \u2022 0 \u2022 0 \u2022 0 \u2022 0 \u2022 Updated May 18, 2024",
        "price": 0,
        "type": "Entertainment",
        "link": "https://github.com/Unlim8ted-Studio-Productions/Face-Stuff"
      },
      {
        "id": "FTL-ChooseYourSide",
        "image": null,
        "additional_images": [],
        "video": null,
        "additional_videos": [],
        "name": "FTL-ChooseYourSide",
        "description": "An FTL mod made using the FTL-Node-Based-Modding tool. No further description available. Python \u2022 0 \u2022 0 \u2022 0 \u2022 0 \u2022 Updated Feb 5, 2024",
        "price": 0,
        "type": "Entertainment",
        "link": "https://github.com/Unlim8ted-Studio-Productions/FTL-ChooseYourSide"
      },
      {
        "id": "FTL-Node-Based-Modding",
        "image": null,
        "additional_images": [],
        "video": null,
        "additional_videos": [],
        "name": "FTL-Node-Based-Modding",
        "description": "A tool to create FTL mods through a visual node based system, dramatically speeding up the proccess of writing FTL XML code. Python \u2022 0 \u2022 0 \u2022 0 \u2022 0 \u2022 Updated Feb 25, 2024",
        "price": 0,
        "type": "Productivity",
        "link": "https://github.com/Unlim8ted-Studio-Productions/FTL-Node-Based-Modding"
      },
      {
        "id": "Kindel-E-ink-games",
        "image": null,
        "additional_images": [],
        "video": null,
        "additional_videos": [],
        "name": "Kindel-E-ink-games",
        "description": "Kindel-E-ink-games repository. No further description available. JavaScript \u2022 0 \u2022 0 \u2022 0 \u2022 0 \u2022 Updated Mar 3, 2024",
        "price": 0,
        "type": "Entertainment",
        "link": "https://github.com/Unlim8ted-Studio-Productions/Kindel-E-ink-games"
      },
      {
        "id": "Multiplayer-Physics-Simulator",
        "image": null,
        "additional_images": [],
        "video": null,
        "additional_videos": [],
        "name": "Multiplayer-Physics-Simulator",
        "description": "Multiplayer-Physics-Simulator repository. No further description available. Python \u2022 0 \u2022 0 \u2022 0 \u2022 0 \u2022 Updated Apr 16, 2024",
        "price": 0,
        "type": "Entertainment",
        "link": "https://github.com/Unlim8ted-Studio-Productions/Multiplayer-Physics-Simulator"
      },
      {
        "id": "Music-AI-Gen",
        "image": null,
        "additional_images": [],
        "video": null,
        "additional_videos": [],
        "name": "Music-AI-Gen",
        "description": "Music-AI-Gen repository. No further description available. Python \u2022 0 \u2022 0 \u2022 0 \u2022 0 \u2022 Updated Feb 14, 2024",
        "price": 0,
        "type": "Entertainment",
        "link": "https://github.com/Unlim8ted-Studio-Productions/Music-AI-Gen"
      },
      {
        "id": "Organisms_Sim",
        "image": null,
        "additional_images": [],
        "video": null,
        "additional_videos": [],
        "name": "Organisms_Sim",
        "description": "Various simulations showcasing evolution, natural selection, and nural networks.",
        "price": 0,
        "type": "Entertainment",
        "link": "https://github.com/Unlim8ted-Studio-Productions/Organisms_Sim"
      },
      {
        "id": "paint-app-v5.9",
        "image": null,
        "additional_images": [],
        "video": null,
        "additional_videos": [],
        "name": "paint-app-v5.9",
        "description": "A fun painting app with cool effects.",
        "price": 0,
        "type": "Entertainment",
        "link": "https://github.com/Unlim8ted-Studio-Productions/paint-app-v5.9"
      },
      {
        "id": "Square-Pixels",
        "image": null,
        "additional_images": [],
        "video": null,
        "additional_videos": [],
        "name": "Square-Pixels",
        "description": "Pixelated sandbox adventure game with exploration, crafting, and multiplayer.",
        "price": 0,
        "type": "Entertainment",
        "link": "square-pixels"
      },
      {
        "id": "turbo-octo-funicular",
        "image": null,
        "additional_images": [],
        "video": null,
        "additional_videos": [
          null,
          null
        ],
        "name": "turbo-octo-funicular",
        "description": "turbo-octo-funicular repository. No further description available.",
        "price": 0,
        "type": "Entertainment",
        "link": "https://unlim8ted.com/products#turbo-octo-funicular"
      },
      {
        "id": "wrighting",
        "image": null,
        "additional_images": [],
        "video": null,
        "additional_videos": [],
        "name": "wrighting",
        "description": "wrighting repository. No further description available. HTML \u2022 0 \u2022 0 \u2022 0 \u2022 0 \u2022 Updated Mar 3, 2024",
        "price": 0,
        "type": "Productivity",
        "link": "https://unlim8ted.com/products#wrighting"
      },
      {
        "id": "life",
        "image": null,
        "additional_images": [],
        "video": null,
        "additional_videos": [],
        "name": "life",
        "description": "card game",
        "price": 0,
        "type": "Entertainment",
        "link": "https://unlim8ted.com/products#life"
      },
      {
        "id": "PuzzleSquare1",
        "image": null,
        "additional_images": [],
        "video": null,
        "additional_videos": [],
        "name": "Puzzle Square 1",
        "description": "Solve a tricky mystery.",
        "price": 0,
        "type": "Entertainment",
        "link": "https://unlim8ted.com/puzzle-squares"
      },
      {
        "id": "PuzzleSquare2",
        "image": null,
        "additional_images": [],
        "video": null,
        "additional_videos": [],
        "name": "Puzzle Square 2",
        "description": "Solve a tricky mystery.",
        "price": 0,
        "type": "Entertainment",
        "link": "https://unlim8ted.com/puzzle-squares"
      },
      {
        "id": "theglitch",
        "image": null,
        "additional_images": [],
        "video": null,
        "additional_videos": [],
        "name": "The Glitch",
        "description": "In progress...",
        "price": 0,
        "type": "Entertainment",
        "link": "https://unlim8ted.com/products#theglitch"
      },
      {
        "id": "theglitchbook",
        "image": null,
        "additional_images": [],
        "video": null,
        "additional_videos": [],
        "name": "The Glitch (the book)",
        "description": "In progress...",
        "price": 0,
        "type": "Entertainment"
      },
      {
        "id": "theglitchscreenplay",
        "image": null,
        "additional_images": [],
        "video": null,
        "additional_videos": [],
        "name": "The Glitch (the screen play)",
        "description": "The screen play for the short film 'The Glitch'.",
        "price": 0,
        "type": "Entertainment",
        "link": "https://docs.google.com/document/d/1SYcF4x2AdHc1DwZstHEIL2uV-Fe5pHN3iR-lZnyupso/edit?usp=sharing"
      },
      {
        "id": "Copy-Keyframes-to-Selected-Blender-Addon",
        "image": null,
        "additional_images": [],
        "video": null,
        "additional_videos": [],
        "name": "Copy Keyframes to Selected Blender Addon",
        "description": "A Blender Addon that makes it easy to copy keyframes to multiple objects from in the N-Panel",
        "price": 0,
        "type": "Productivity",
        "link": "https://github.com/Unlim8ted-Studio-Productions/Blender-Copy-Keyframe-Addon"
      }
    ];

    // Handle Google Login
    async function loginWithGoogle() {
      try {
        const result = await signInWithPopup(auth, provider);
        const user = result.user;
        console.log("Logged in user:", user.email);
        checkAdminStatus(user);
      } catch (error) {
        console.error("Login failed:", error);
        alert("Login failed. Please try again.");
      }
    }

    // Check Admin Status
    async function checkAdminStatus(user) {
      const adminEmails = ["admin@example.com"]; // Replace with actual admin emails
      if (adminEmails.includes(user.email)) {
        alert("Admin verified. Uploading products...");
        uploadProducts();
      } else {
        alert("Access denied. You are not an admin.");
      }
    }

    // Upload products to Firestore
    async function uploadProducts() {
      try {
        const productsCollection = collection(db, "products");
        for (const product of products) {
          const productDoc = doc(productsCollection, product.id); // Use the 'id' field as the document ID
          await setDoc(productDoc, product);
          console.log(`Uploaded product: ${product.name}`);
        }
        alert("Products uploaded successfully!");
      } catch (error) {
        console.error("Error uploading products:", error);
        alert("Failed to upload products.");
      }
    }

    // Event listener for Google Login
    document.addEventListener("DOMContentLoaded", () => {
      const googleLoginBtn = document.getElementById("googleLoginBtn");
      googleLoginBtn.addEventListener("click", loginWithGoogle);
    });
  </script>
</head>

<body>
  <h1>Admin Login</h1>
  <button id="googleLoginBtn">Login with Google</button>
</body>

</html>