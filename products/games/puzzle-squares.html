<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Unlim8ted — Puzzle Square</title>
  <meta name="description" content="Fun puzzles. Always free. No sign up required. Powered by Unlim8ted Studio Productions" />
  <link rel="icon" href="https://unlim8ted.com/favicon.ico" type="image/x-icon" />

  <!-- Navbar component -->
  <script type="module" src="https://unlim8ted.com/components/site-navbar.js"></script>

  <!-- Firebase (kept as-is, but wrapped safely) -->
  <script type="module">
    import { onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js";
    import { collection, doc, setDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js";
    import { getFirebase } from "/components/firebase-init.js";
    const { auth, db } = getFirebase();
    // (your auth logic can remain here)
  </script>

  <style>
    /* ---------- Design tokens ---------- */
    :root{
      --bg0:#070A0F;
      --bg1:#0C1220;
      --card:#0E172B;
      --card2:#0B1324;
      --text:#EAF0FF;
      --muted:#AAB6D3;
      --line:rgba(255,255,255,.10);
      --glow:rgba(0,255,170,.18);
      --accent:#00FFAA;
      --accent2:#6EA8FF;

      --radius:16px;
      --shadow: 0 18px 60px rgba(0,0,0,.45);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background:
        radial-gradient(1000px 600px at 10% 0%, rgba(110,168,255,.14), transparent 55%),
        radial-gradient(900px 500px at 90% 10%, rgba(0,255,170,.10), transparent 55%),
        radial-gradient(700px 500px at 50% 100%, rgba(255,255,255,.05), transparent 55%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      line-height:1.55;
    }

    a{ color:var(--accent2); text-decoration:none; }
    a:hover{ text-decoration:underline; }

    /* ---------- Page shell ---------- */
    .wrap{
      width:min(1200px, calc(100% - 32px));
      margin: 24px auto 56px;
    }

    .hero{
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap:16px;
      margin: 18px 0 18px;
      padding: 18px 18px;
      border:1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
    }

    .hero h1{
      margin:0;
      font-size: clamp(22px, 3vw, 34px);
      letter-spacing:.2px;
    }

    .hero p{
      margin:6px 0 0;
      color:var(--muted);
      max-width: 70ch;
      font-size: 14.5px;
    }

    .badge{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:10px 12px;
      border-radius:999px;
      border:1px solid var(--line);
      background: rgba(0,0,0,.22);
      color:var(--muted);
      font-size:13px;
      white-space:nowrap;
    }
    .dot{
      width:10px;height:10px;border-radius:50%;
      background: var(--accent);
      box-shadow: 0 0 18px var(--glow);
    }

    /* ---------- Layout ---------- */
    .grid{
      display:grid;
      grid-template-columns: 1fr 360px;
      gap: 18px;
      align-items:start;
    }

    @media (max-width: 980px){
      .grid{ grid-template-columns: 1fr; }
    }

    /* ---------- Cards ---------- */
    .card{
      border: 1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border-radius: var(--radius);
      overflow:hidden;
      box-shadow: var(--shadow);
    }

    .cardHeader{
      padding: 14px 16px;
      border-bottom: 1px solid var(--line);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      background: rgba(0,0,0,.18);
    }

    .cardHeader h2{
      margin:0;
      font-size: 14px;
      letter-spacing:.16em;
      text-transform: uppercase;
      color: var(--muted);
    }

    .cardBody{
      padding: 16px;
    }

    .sectionTitle{
      font-size: 20px;
      margin: 0 0 10px;
      letter-spacing:.2px;
    }

    .subtle{
      color: var(--muted);
      font-size: 14px;
      margin: 6px 0 12px;
    }

    /* ---------- Puzzle styling ---------- */
    .puzzleBlock{
      margin: 14px 0 18px;
      padding: 14px;
      border-radius: 14px;
      background: linear-gradient(180deg, rgba(0,255,170,.07), rgba(110,168,255,.05));
      border: 1px solid rgba(255,255,255,.10);
    }

    .puzzleBlock h3{
      margin: 0 0 10px;
      font-size: 16px;
      display:flex;
      gap:10px;
      align-items:center;
    }

    .chip{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      color: var(--muted);
      font-size: 12px;
      letter-spacing:.02em;
    }

    .mono{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 13.5px;
      color: #E6FFF6;
    }

    .monoBox{
      padding: 12px;
      border-radius: 12px;
      background: rgba(0,0,0,.28);
      border: 1px solid rgba(255,255,255,.10);
      overflow:auto;
    }

    .row{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      margin-top:10px;
    }

    input[type="text"], .answerInput, textarea{
      width: 100%;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.25);
      color: var(--text);
      border-radius: 12px;
      padding: 10px 12px;
      outline:none;
      transition: border-color .2s, box-shadow .2s;
    }
    input[type="text"]:focus, .answerInput:focus, textarea:focus{
      border-color: rgba(0,255,170,.55);
      box-shadow: 0 0 0 4px rgba(0,255,170,.12);
    }

    textarea{
      min-height: 520px;
      resize: vertical;
    }

    .btn{
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.25);
      color: var(--text);
      padding: 10px 12px;
      border-radius: 12px;
      cursor:pointer;
      transition: transform .08s ease, background .2s ease, border-color .2s ease;
      user-select:none;
    }
    .btn:hover{
      border-color: rgba(0,255,170,.45);
      background: rgba(0,0,0,.35);
    }
    .btn:active{ transform: translateY(1px); }

    .btnPrimary{
      border-color: rgba(0,255,170,.38);
      background: rgba(0,255,170,.10);
    }
    .btnPrimary:hover{
      background: rgba(0,255,170,.14);
    }

    .divider{
      height:1px;
      background: var(--line);
      margin: 14px 0;
    }

    .footer{
      margin-top: 18px;
      color: var(--muted);
      font-size: 13px;
      text-align:center;
    }

    /* Reduce motion */
    @media (prefers-reduced-motion: reduce){
      *{ scroll-behavior:auto !important; transition:none !important; }
    }
  </style>
</head>

<body>
  <site-navbar
    cart-href="https://unlim8ted.com/sign-in/cart"
    signin-href="https://unlim8ted.com/sign-in"
    profile-href="https://unlim8ted.com/profile">
  </site-navbar>

  <main class="wrap">
    <section class="hero">
      <div>
        <h1>Puzzle Square</h1>
        <p>Fun puzzles. Always free. No sign up required. Powered by Unlim8ted Studio Productions.</p>
      </div>
      <div class="badge"><span class="dot"></span> live puzzles</div>
    </section>

    <section class="grid">
      <!-- LEFT: PUZZLES -->
      <article class="card">
        <div class="cardHeader">
          <h2>Puzzles</h2>
          <span class="chip">Tip: answers are not auto-checked yet</span>
        </div>
        <div class="cardBody">

          <!-- ========= PUZZLE SQUARE ONE ========= -->
<h2 class="sectionTitle">
  <u>P</u>u<u>z</u>zle Squ<u>a</u>re One
</h2>
          <p class="subtle">Work through each part. Use hints only if you get stuck.</p>

          <div class="puzzleBlock">
            <h3><span class="chip">Part 1</span> Targets RID</h3>

            <div class="monoBox mono">
              <div><strong>Targets RID (Robot Identification Number):</strong></div>
              <div>^=2,1,12,3,5,4,23,13,14,10,21,8,8,21,7,12|||5,2,1,7,2,3,3,2,1,7,8,19</div>
              <div style="margin-top:10px; color: var(--muted);">Left → right</div>
            </div>

            <div class="divider"></div>

            <div class="monoBox mono">
              <div><strong>Targets Encrypted Unlim8ted Password:</strong></div>
              <div style="margin-top:10px;">
                <span>AwMnRiX&nbsp;&nbsp;pIjWhCyFrLp–&nbsp;&nbsp;OjTmIwS&nbsp;&nbsp;RxSnAkOgPoP&nbsp;&nbsp;EnQt–sQxRiQbK!N</span>
              </div>
            </div>

            <p class="subtle" style="margin-top:12px;">
              Task: Unencrypt the first password recovery hint using the target's encrypted password.
            </p>

            <label class="subtle" for="ans1">Extracted password recovery hint:</label>
            <input id="ans1" class="answerInput" type="text" placeholder="Type your answer…" />

            <div class="row">
              <button class="btn" id="hint1"
                onclick="this.textContent='Our sources tell us that ^ may refer to exponent which refers to superscript characters.'">
                I need a hint
              </button>
              <button class="btn" id="hint2"
                onclick="this.textContent='Our sources tell us that the numbers in ^ may refer to indexes in the password.'">
                I need a hint
              </button>
            </div>
          </div>

          <div class="puzzleBlock">
            <h3><span class="chip">Part 2</span> Leak Message</h3>

            <p class="subtle">
              Recently Unlim8ted Studio Productions had a data leak and the hacker responsible sent us pieces of data that may be helpful in obtaining the complete password.
            </p>

            <div class="monoBox mono">
              <div>⬜4=1</div>
              <div>_2=26</div>
              <div style="margin-top:10px; color: var(--muted);">Use with opposite of ^ and remember our name…</div>
            </div>

            <label class="subtle" for="ans2" style="margin-top:12px;">What it means:</label>
            <input id="ans2" class="answerInput" type="text" placeholder="Type your answer…" />

            <div class="row">
              <button class="btn" id="hint3" onclick="this.textContent='Think about the title.'">I need a hint</button>
            </div>
          </div>

          <div class="puzzleBlock">
            <h3><span class="chip">Part 3</span> Code Discovery</h3>

            <p class="subtle">Deep in Unlim8ted’s code we found something that may help in decoding the password.</p>

            <div class="monoBox mono">
              <div><strong>The info found:</strong></div>
              <div>Code = ^[28,18,12] any of ^</div>
            </div>

            <label class="subtle" for="ans3" style="margin-top:12px;">Code =</label>
            <input id="ans3" class="answerInput" type="text" placeholder="Type your answer…" />

            <div class="row">
              <button class="btn" id="hint4"
                onclick="this.textContent='Our experts theorize that the stuff in the brackets may be the same as what you did in the first part.'">
                I need a hint
              </button>
              <button class="btn" id="hint5"
                onclick="this.textContent='Any of the ^\'s may refer to the list with ^ in the beginning according to our other hackers.'">
                I need a hint
              </button>
            </div>
          </div>

          <div class="puzzleBlock">
            <h3><span class="chip">Part 4</span> Final Decrypt</h3>

            <p class="subtle">
              Now you must use all the information you have found in collaboration with the last thing we know about Unlim8ted’s password encryption.
            </p>

            <div class="monoBox mono">
              <div><strong>Our last piece of info:</strong></div>
              <div style="margin-top:10px;">wrappable</div>
              <div>|</div>
              <div>\ /</div>
              <div><span style="color:var(--muted)">Code</span> + <span style="color:var(--muted)">effector</span> = answer</div>
            </div>

            <label class="subtle" for="ans4" style="margin-top:12px;">Unencrypted Password:</label>
            <input id="ans4" class="answerInput" type="text" placeholder="Type your answer…" />

            <div class="row">
              <button class="btn" id="hint6"
                onclick="this.textContent='Our experts ask you to think about what matrix you were given.'">
                I need a hint
              </button>
              <button class="btn" id="hint7"
                onclick="this.textContent='You may need to convert the code into numeric form.'">
                I need a hint
              </button>
              <button class="btn btnPrimary" id="answer"
                onclick="this.textContent='You solved the first puzzle!'">
                Click to see answer
              </button>
            </div>
          </div>

          <div class="divider"></div>

          <!-- ========= PUZZLE SQUARE TWO ========= -->
          <h2 class="sectionTitle">Puzzle Square Two (unfinished)</h2>

          <div class="puzzleBlock">
            <h3><span class="chip">Part 1</span> Notes on the Wall</h3>

            <p class="subtle">You wake up sweating and notice a note plastered to your wall.</p>
            <p class="subtle">On the note you find many music notes like the ones you might find on a music sheet.</p>

            <div class="monoBox" style="display:flex; justify-content:center;">
              <img
                src="puzzle square/images/image1.png"
                alt="Music-note puzzle"
                style="max-width:100%; height:auto; border-radius:12px; border:1px solid rgba(255,255,255,.12);"
              />
            </div>

            <p class="subtle" style="margin-top:12px;">
              The paper reads:
              <span class="mono">-1=a</span> &nbsp; <span class="mono">10=k</span>
            </p>

            <label class="subtle" for="ans5">What does it mean?</label>
            <input id="ans5" class="answerInput" type="text" placeholder="Type your answer…" />

            <div class="row">
              <button class="btn" id="hint8"
                onclick="this.textContent='You think to yourself and decide that negative one may refer to the bottom line.'">
                I need a hint
              </button>
            </div>
          </div>

          <div class="puzzleBlock">
            <h3><span class="chip">Part 2</span> (WIP)</h3>
            <p class="subtle">Story: (add your text here)</p>

            <label class="subtle" for="ans6">What does it mean?</label>
            <input id="ans6" class="answerInput" type="text" placeholder="Type your answer…" />

            <div class="row">
              <button class="btn" id="hint9"
                onclick="this.textContent='You think to yourself and decide that negative one may refer to the bottom line.'">
                I need a hint
              </button>
            </div>
          </div>

        </div>
      </article>

      <!-- RIGHT: NOTES -->
      <aside class="card">
        <div class="cardHeader">
          <h2>Notes</h2>
          <span class="chip">local only</span>
        </div>
        <div class="cardBody">
          <textarea id="notes" placeholder="Type here…"></textarea>
          <div class="row" style="margin-top:12px;">
            <button class="btn" id="saveNotes">Save</button>
            <button class="btn" id="clearNotes">Clear</button>
          </div>
          <p class="subtle" style="margin-top:10px;">
            Notes are stored in your browser (localStorage).
          </p>
        </div>
      </aside>
    </section>

    <footer class="footer">
      <p id="footer-text">© 2019-2026 Unlim8ted Studio Productions. All rights reserved.</p>
    </footer>
  </main>

  <script>
    // Footer year
    (function(){
      const y = new Date().getFullYear();
      const el = document.getElementById("footer-text");
      if (el) el.textContent = `© 2019-${y} Unlim8ted Studio Productions. All rights reserved.`;
    })();

    // Notes persistence (nice UX upgrade)
    (function(){
      const key = "unlim8ted:puzzleSquare:notes";
      const ta = document.getElementById("notes");
      const saveBtn = document.getElementById("saveNotes");
      const clearBtn = document.getElementById("clearNotes");

      if (!ta) return;

      ta.value = localStorage.getItem(key) || "";

      saveBtn?.addEventListener("click", () => {
        localStorage.setItem(key, ta.value);
        saveBtn.textContent = "Saved ✓";
        setTimeout(()=> saveBtn.textContent = "Save", 900);
      });

      clearBtn?.addEventListener("click", () => {
        ta.value = "";
        localStorage.removeItem(key);
      });
    })();
  </script>
</body>
</html>
