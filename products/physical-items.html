<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Unlim8ted - Physical Items</title>
  <meta name="title" content="Products - Unlim8ted" />
  <meta name="description" content="Explore Unlim8ted's physical items and merch." />

  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://unlim8ted.com/products/" />
  <meta property="og:title" content="Products - Unlim8ted Studio Productions" />
  <meta property="og:description" content="Explore a wide range of products from Unlim8ted Studio Productions." />
  <meta property="og:image" content="https://unlim8ted.com/images/products-meta-image.jpg" />

  <meta property="twitter:card" content="summary_large_image" />
  <meta property="twitter:url" content="https://unlim8ted.com/products/" />
  <meta property="twitter:title" content="Products - Unlim8ted Studio Productions" />
  <meta property="twitter:description" content="Explore a wide range of products from Unlim8ted Studio Productions." />
  <meta property="twitter:image" content="https://unlim8ted.com/images/products-meta-image.jpg" />

  <link rel="icon" href="https://unlim8ted.com/favicon.ico" type="image/x-icon" />

  <script type="module" src="/components/site-navbar.js"></script>
  <script type="module" src="/components/site-loader.js"></script>

  <style>
    :root {
      --bg0: #05040a;
      --bg1: #0c0620;
      --ink: rgba(255, 255, 255, .92);
      --muted: rgba(255, 255, 255, .68);

      --glass: rgba(20, 18, 30, .68);
      --glass2: rgba(28, 26, 42, .78);
      --stroke: rgba(255, 255, 255, .12);

      --accent: #00ffc6;
      --accent2: #63d6ff;

      --ok: #00ff99;
      --warn: #ffd166;
      --bad: #ff4d4d;

      --shadow: 0 16px 44px rgba(0, 0, 0, .55);
      --r: 18px;
      --r2: 22px;

      --max: 1140px;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: Arial, sans-serif;
      color: var(--ink);
      background:
        radial-gradient(1200px 600px at 20% 20%, rgba(0, 255, 198, .10), transparent 60%),
        radial-gradient(900px 500px at 80% 30%, rgba(99, 214, 255, .10), transparent 62%),
        radial-gradient(900px 700px at 50% 95%, rgba(255, 0, 119, .08), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1) 70%, #060512);
      padding-top: 56px;
      min-height: 100vh;
    }

    .wrap {
      max-width: var(--max);
      margin: 0 auto;
      padding: 26px 16px 64px;
    }

    .hero {
      display: flex;
      align-items: flex-end;
      justify-content: space-between;
      gap: 16px;
      flex-wrap: wrap;
      margin: 6px 0 16px;
    }

    h1 {
      margin: 0;
      font-size: 32px;
      letter-spacing: .2px;
      color: rgba(255, 255, 255, .96);
      text-shadow: 0 0 14px rgba(0, 255, 198, .14);
    }

    .sub {
      margin: 10px 0 0;
      font-size: 14px;
      line-height: 1.45;
      color: var(--muted);
      max-width: 900px;
    }

    .toolbar {
      display: grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 12px;
      margin: 18px 0 10px;
    }

    .tool {
      display: flex;
      gap: 10px;
      align-items: center;
      padding: 12px 12px;
      border-radius: 16px;
      background: rgba(255, 255, 255, .05);
      border: 1px solid rgba(255, 255, 255, .10);
      box-shadow: 0 10px 22px rgba(0, 0, 0, .20);
      backdrop-filter: blur(10px);
    }

    .icon {
      width: 34px;
      height: 34px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(0, 255, 198, .10);
      border: 1px solid rgba(0, 255, 198, .18);
      color: var(--accent);
      flex: 0 0 auto;
      user-select: none;
    }

    .icon svg { width: 18px; height: 18px; fill: currentColor; }

    .tool input,
    .tool select {
      width: 100%;
      border: none;
      outline: none;
      background: transparent;
      color: var(--ink);
      font-size: 14px;
    }

    select {
      background: rgba(10, 10, 16, .92) !important;
      color: rgba(255, 255, 255, .92) !important;
      border: 1px solid rgba(255, 255, 255, .14);
      border-radius: 12px;
      padding: 10px 10px;
    }

    select:focus {
      outline: none;
      border-color: rgba(0, 255, 153, .45);
      box-shadow: 0 0 0 3px rgba(0, 255, 153, .12);
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 16px;
      margin-top: 14px;
    }

    .card {
      grid-column: span 4;
      position: relative;
      border-radius: var(--r2);
      background: linear-gradient(180deg, rgba(28, 26, 42, .72), rgba(20, 18, 30, .62));
      border: 1px solid rgba(255, 255, 255, .10);
      box-shadow: var(--shadow);
      overflow: hidden;
      transform: translateZ(0);
      transition: transform .18s ease, border-color .18s ease, box-shadow .18s ease;
      text-decoration: none;
      color: inherit;
      display: flex;
      flex-direction: column;
      min-height: 100%;
    }

    .card:hover {
      transform: translateY(-3px);
      border-color: rgba(0, 255, 198, .22);
      box-shadow: 0 22px 54px rgba(0, 0, 0, .62);
    }

    .thumb {
      aspect-ratio: 4 / 3;
      background: rgba(255, 255, 255, .06);
      overflow: hidden;
      position: relative;
    }

    .thumb::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(600px 260px at 50% 0%, rgba(0, 255, 198, .10), transparent 60%);
      pointer-events: none;
    }

    .thumb img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      filter: saturate(1.06) contrast(1.05);
    }

    .badges {
      position: absolute;
      top: 12px;
      left: 12px;
      right: 12px;
      display: flex;
      justify-content: space-between;
      gap: 10px;
      pointer-events: none;
    }

    .badge {
      pointer-events: none;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 10px;
      border-radius: 999px;
      font-weight: 900;
      font-size: 12px;
      letter-spacing: .2px;
      border: 1px solid rgba(255, 255, 255, .14);
      background: rgba(0, 0, 0, .38);
      backdrop-filter: blur(10px);
      color: rgba(255, 255, 255, .92);
      text-shadow: 0 1px 0 rgba(0, 0, 0, .25);
      white-space: nowrap;
    }

    .dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: rgba(255, 255, 255, .70);
      box-shadow: 0 0 0 2px rgba(0, 0, 0, .22);
    }

    .stock-in .dot { background: var(--ok); }
    .stock-partial .dot { background: var(--warn); }
    .stock-out .dot { background: var(--bad); }

    .badge.cat {
      background: rgba(0, 255, 198, .10);
      border-color: rgba(0, 255, 198, .22);
      color: rgba(0, 255, 198, .95);
    }

    .info {
      padding: 14px 14px 12px;
      display: flex;
      flex-direction: column;
      gap: 8px;
      flex: 1 1 auto;
    }

    .title {
      margin: 0;
      font-weight: 900;
      font-size: 16px;
      letter-spacing: .2px;
      line-height: 1.2;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .desc {
      margin: 0;
      color: var(--muted);
      font-size: 13px;
      line-height: 1.38;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
      min-height: 34px;
    }

    .meta {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 2px;
    }

    .price {
      font-weight: 900;
      color: rgba(255, 255, 255, .94);
      font-size: 13px;
    }

    .actions {
      padding: 0 14px 14px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 11px 12px;
      border-radius: 16px;
      font-weight: 900;
      text-decoration: none;
      user-select: none;
      border: 1px solid rgba(255, 255, 255, .10);
      background: rgba(255, 255, 255, .06);
      color: rgba(255, 255, 255, .92);
      transition: filter .15s ease, background .15s ease, border-color .15s ease;
    }

    .btn:hover {
      background: rgba(255, 255, 255, .09);
      border-color: rgba(0, 255, 198, .20);
    }

    .btn.primary {
      background: linear-gradient(180deg, rgba(0, 255, 153, .92), rgba(0, 255, 198, .85));
      color: #07101a;
      border: none;
      box-shadow: 0 12px 28px rgba(0, 255, 153, .12);
    }

    .btn.primary:hover { filter: brightness(.97); }

    .btn svg { width: 16px; height: 16px; fill: currentColor; }

    .foot {
      margin-top: 22px;
      text-align: center;
      color: rgba(255, 255, 255, .60);
      font-size: 13px;
    }

    .empty {
      grid-column: 1 / -1;
      border-radius: var(--r2);
      border: 1px solid rgba(255, 255, 255, .10);
      background: rgba(255, 255, 255, .05);
      padding: 18px;
      color: rgba(255, 255, 255, .86);
      box-shadow: 0 12px 30px rgba(0, 0, 0, .30);
    }

    @media (max-width: 980px) {
      .card { grid-column: span 6; }
      .toolbar { grid-template-columns: 1fr; }
    }

    @media (max-width: 560px) {
      .card { grid-column: span 12; }
    }
  </style>
</head>

<body>
  <site-loader text="Loading..."></site-loader>
  <site-navbar cart-href="/cart" signin-href="https://unlim8ted.com/sign-in"
    profile-href="https://unlim8ted.com/profile"></site-navbar>

  <div class="wrap">
    <div class="hero">
      <div>
        <h1>Physical Items</h1>
        <p class="sub">Stock is based on Printful and stored per variant in <strong>varients[].available</strong>. Click a product to view and choose a variant.</p>
      </div>
    </div>

    <div class="toolbar">
      <div class="tool" title="Search">
        <div class="icon" aria-hidden="true">
          <svg viewBox="0 0 24 24">
            <path
              d="M10 4a6 6 0 104.472 10.01l4.759 4.758a1 1 0 001.414-1.414l-4.758-4.759A6 6 0 0010 4zm0 2a4 4 0 110 8 4 4 0 010-8z" />
          </svg>
        </div>
        <input type="text" id="search" placeholder="Search itemsâ€¦" />
      </div>

      <div class="tool" title="Filter">
        <div class="icon" aria-hidden="true">
          <svg viewBox="0 0 24 24">
            <path
              d="M4 7h10a2 2 0 104 0h2v2h-2a2 2 0 11-4 0H4V7zm0 8h2a2 2 0 104 0h10v2H10a2 2 0 11-4 0H4v-2z" />
          </svg>
        </div>
        <select id="filter" aria-label="Category filter">
          <option value="all">All categories</option>
          <option value="t-shirts">T-Shirts</option>
          <option value="hoodies">Hoodies</option>
          <option value="stickers">Stickers</option>
          <option value="accessories">Accessories</option>
          <option value="home">Home</option>
        </select>
      </div>
    </div>

    <div id="grid" class="grid"></div>

    <div class="foot">
      <span id="footer-text"></span>
    </div>
  </div>

  <script type="module">
    const grid = document.getElementById("grid");
    const searchEl = document.getElementById("search");
    const filterEl = document.getElementById("filter");

    function esc(s) {
      return String(s ?? "").replace(/[&<>"']/g, (c) => ({
        "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;"
      }[c]));
    }

    function productHref(id) {
      return `/products/product#${encodeURIComponent(id)}`;
    }

    function stockFromVariants(item) {
      const vs = Array.isArray(item?.varients) ? item.varients : null;
      if (!vs || vs.length === 0) return { key: "in", label: "In stock" };

      let total = 0, avail = 0;
      for (const v of vs) {
        total++;
        if (v?.available !== false) avail++;
      }
      if (avail === 0) return { key: "out", label: "Out of stock" };
      if (avail === total) return { key: "in", label: "In stock" };
      return { key: "partial", label: "Partial stock" };
    }

    function categoryGuessFromTags(p) {
      const tags = Array.isArray(p?.tags) ? p.tags.map(String) : [];
      const t = tags.join(" ").toLowerCase();
      if (t.includes("hood")) return "hoodies";
      if (t.includes("shirt") || t.includes("tee")) return "t-shirts";
      if (t.includes("sticker")) return "stickers";
      if (t.includes("cap") || t.includes("beanie") || t.includes("hat") || t.includes("slides") || t.includes("windbreaker") || t.includes("bag")) return "accessories";
      if (t.includes("mug") || t.includes("glass") || t.includes("coaster") || t.includes("notebook") || t.includes("puzzle") || t.includes("home")) return "home";
      return "accessories";
    }

    async function loadCatalog() {
      const r = await fetch("/tools/data/products.json", { cache: "no-store" });
      if (!r.ok) throw new Error(`Failed to load products.json (${r.status})`);
      const data = await r.json();
      const list = Array.isArray(data) ? data : (Array.isArray(data?.products) ? data.products : []);
      return list;
    }

    function passesFilters(p) {
      const q = (searchEl.value || "").trim().toLowerCase();
      const f = filterEl.value;

      const title = String(p?.name ?? p?.title ?? "").toLowerCase();
      const desc = String(p?.description ?? p?.desc ?? "").toLowerCase();
      const cat = String(p?.category ?? categoryGuessFromTags(p)).toLowerCase();

      const hay = `${title} ${desc} ${cat}`.trim();
      if (q && !hay.includes(q)) return false;
      if (f !== "all" && cat !== f) return false;
      return true;
    }

    function bestImage(p) {
      const img =
        p?.image ||
        p?.imageUrl ||
        p?.thumbnail ||
        p?.thumb ||
        p?.images?.[0] ||
        p?.media?.[0]?.src ||
        "";
      return String(img || "");
    }

    function bestPriceLabel(p) {
      const pl = p?.priceLabel || p?.price_range || p?.priceRange || p?.price || "";
      return pl ? String(pl) : "";
    }

    function render(products) {
      grid.innerHTML = "";

      const shown = products
        .filter(p => String(p?.["product-type"] || p?.productType || "").toLowerCase() === "physical")
        .map(p => ({
          id: String(p?.id || ""),
          title: String(p?.name ?? p?.title ?? "Item"),
          desc: String(p?.description ?? p?.desc ?? ""),
          category: String(p?.category ?? categoryGuessFromTags(p)),
          image: bestImage(p),
          priceLabel: bestPriceLabel(p),
          varients: Array.isArray(p?.varients) ? p.varients : null
        }))
        .filter(p => p.id)
        .filter(passesFilters);

      if (!shown.length) {
        grid.innerHTML = `<div class="empty"><strong>No results.</strong><div style="margin-top:8px;color:rgba(255,255,255,.68)">Try a different search or category.</div></div>`;
        return;
      }

      for (const p of shown) {
        const stock = stockFromVariants(p);
        const href = productHref(p.id);

        const card = document.createElement("a");
        card.className = "card";
        card.href = href;
        card.setAttribute("aria-label", `View ${p.title}`);

        const img = p.image ? `<img src="${esc(p.image)}" alt="${esc(p.title)}">` : "";

        card.innerHTML = `
          <div class="thumb">
            ${img}
            <div class="badges">
              <div class="badge stock-${esc(stock.key)}">
                <span class="dot" aria-hidden="true"></span>
                ${esc(stock.label)}
              </div>
              <div class="badge cat">${esc(p.category)}</div>
            </div>
          </div>

          <div class="info">
            <h3 class="title">${esc(p.title)}</h3>
            <p class="desc">${esc(p.desc)}</p>
            <div class="meta">
              <div class="price">${esc(p.priceLabel)}</div>
            </div>
          </div>

          <div class="actions">
            <span class="btn primary" role="button" tabindex="-1">
              <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M14 3H6a2 2 0 00-2 2v14a2 2 0 002 2h12a2 2 0 002-2V9l-6-6zm0 2.5L18.5 10H14V5.5zM8 13h8v2H8v-2zm0 4h8v2H8v-2z"/></svg>
              View product
            </span>
          </div>
        `;

        grid.appendChild(card);
      }
    }

    (async () => {
      try {
        const products = await loadCatalog();
        const onChange = () => render(products);

        searchEl.addEventListener("input", onChange);
        filterEl.addEventListener("change", onChange);

        render(products);

        const y = new Date().getFullYear();
        document.getElementById("footer-text").innerHTML =
          `&copy; 2019-${y} Unlim8ted Studio Productions. All rights reserved.`;
      } catch (e) {
        console.error(e);
        grid.innerHTML = `<div class="empty"><strong>Could not load products.</strong><div style="margin-top:8px;color:rgba(255,255,255,.68)">Please refresh and try again.</div></div>`;
      }
    })();
  </script>

  <script>
    (() => {
      const prefersReduced = matchMedia("(prefers-reduced-motion: reduce)").matches;
      if (prefersReduced) return;

      const container = document.scrollingElement || document.documentElement;

      let targetY = window.scrollY || 0;
      let currentY = targetY;
      let running = false;

      const EASE = 0.085;
      const WHEEL_MULT = 1.0;
      const TOUCH_MULT = 1.0;
      const STOP_EPS = 0.5;

      const clamp = (v, a, b) => Math.max(a, Math.min(b, v));
      const maxScroll = () => Math.max(0, container.scrollHeight - innerHeight);

      function tick() {
        running = true;

        const diff = targetY - currentY;
        currentY += diff * EASE;

        if (Math.abs(diff) < STOP_EPS) currentY = targetY;

        window.scrollTo(0, currentY);
        window.dispatchEvent(new Event("scroll"));

        if (currentY !== targetY) requestAnimationFrame(tick);
        else running = false;
      }

      function go(delta) {
        targetY = clamp(targetY + delta, 0, maxScroll());
        if (!running) requestAnimationFrame(tick);
      }

      function onWheel(e) {
        if (e.ctrlKey || e.metaKey) return;
        e.preventDefault();
        go(e.deltaY * WHEEL_MULT);
      }

      let lastTouchY = 0;
      function onTouchStart(e) {
        if (!e.touches || !e.touches.length) return;
        lastTouchY = e.touches[0].clientY;
      }
      function onTouchMove(e) {
        if (!e.touches || !e.touches.length) return;
        e.preventDefault();
        const y = e.touches[0].clientY;
        const delta = (lastTouchY - y) * TOUCH_MULT;
        lastTouchY = y;
        go(delta);
      }

      function syncToNative() {
        if (running) return;
        targetY = currentY = window.scrollY || 0;
      }

      addEventListener("wheel", onWheel, { passive: false });
      addEventListener("touchstart", onTouchStart, { passive: true });
      addEventListener("touchmove", onTouchMove, { passive: false });
      addEventListener("scroll", syncToNative, { passive: true });
      addEventListener("resize", () => {
        targetY = clamp(targetY, 0, maxScroll());
        currentY = clamp(currentY, 0, maxScroll());
      }, { passive: true });

      targetY = currentY = window.scrollY || 0;
    })();
  </script>
</body>

</html>
